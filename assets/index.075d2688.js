import{Z as e,k as t,l as o,h as l,d as a,t as r,g as n,c as s,aj as i,j as u,O as p,aN as c,aO as d,p as f,r as h,aP as v,V as g,aB as b,o as m,m as y,aQ as w,b as C,aR as O,aS as S,a2 as P,a3 as B,aT as R,aU as T,F as j,aC as M,a5 as F,s as x,v as V,_ as $,Y as A,w as E,x as L,y as z,C as W,q as k,D,G as H,H as N}from"./index.6fd1736c.js";import{u as I,R as q}from"./resize-observer-v2.1522d43b.js";import{i as Y}from"./ResizeObserver.es.bd9ff68d.js";const _="undefined"==typeof window?global:window,G=_.requestAnimationFrame,Q=_.cancelAnimationFrame;var U=Object.defineProperty,X=Object.getOwnPropertySymbols,Z=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable,K=(e,t,o)=>t in e?U(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,ee=(e,t)=>{for(var o in t||(t={}))Z.call(t,o)&&K(e,o,t[o]);if(X)for(var o of X(t))J.call(t,o)&&K(e,o,t[o]);return e};const te=(e,t)=>{var o,l;const a=e.getBoundingClientRect();return{top:a.top,bottom:a.bottom,left:a.left,right:a.right,scrollTop:a.top-t.top,scrollBottom:a.bottom-t.top,scrollLeft:a.left-t.left,scrollRight:a.right-t.left,width:null!=(o=e.offsetWidth)?o:e.clientWidth,height:null!=(l=e.offsetHeight)?l:e.clientHeight}},oe=(e,t)=>{switch(t){case"top":switch(e){case"bottom":return"top";case"bl":return"tl";case"br":return"tr";default:return e}case"bottom":switch(e){case"top":return"bottom";case"tl":return"bl";case"tr":return"br";default:return e}case"left":switch(e){case"right":return"left";case"rt":return"lt";case"rb":return"lb";default:return e}case"right":switch(e){case"left":return"right";case"lt":return"rt";case"lb":return"rb";default:return e}default:return e}},le=(e,t,{containerRect:o,triggerRect:l,popupRect:a,offset:r,translate:n})=>{const s=(e=>{switch(e){case"top":case"tl":case"tr":default:return"top";case"bottom":case"bl":case"br":return"bottom";case"left":case"lt":case"lb":return"left";case"right":case"rt":case"rb":return"right"}})(e),i={width:document.documentElement.clientWidth||window.innerWidth,height:document.documentElement.clientHeight||window.innerHeight},u=o.top+t.top,p=i.height-(o.top+t.top+a.height),c=o.left+t.left,d=i.width-(o.left+t.left+a.width);let f=e;if("top"===s&&u<0)if(l.top>a.height)t.top=-o.top;else{const s=ae("bottom",l,a,{offset:r,translate:n});i.height-(o.top+s.top+a.height)>0&&(f=oe(e,"bottom"),t.top=s.top)}if("bottom"===s&&p<0)if(i.height-l.bottom>a.height)t.top=-o.top+(i.height-a.height);else{const s=ae("top",l,a,{offset:r,translate:n});o.top+s.top>0&&(f=oe(e,"top"),t.top=s.top)}if("left"===s&&c<0)if(l.left>a.width)t.left=-o.left;else{const s=ae("right",l,a,{offset:r,translate:n});i.width-(o.left+s.left+a.width)>0&&(f=oe(e,"right"),t.left=s.left)}if("right"===s&&d<0)if(i.width-l.right>a.width)t.left=-o.left+(i.width-a.width);else{const s=ae("left",l,a,{offset:r,translate:n});o.left+s.left>0&&(f=oe(e,"left"),t.left=s.left)}return"top"!==s&&"bottom"!==s||(c<0?t.left=-o.left:d<0&&(t.left=-o.left+(i.width-a.width))),"left"!==s&&"right"!==s||(u<0?t.top=-o.top:p<0&&(t.top=-o.top+(i.height-a.height))),{popupPosition:t,position:f}},ae=(t,o,l,{offset:a=0,translate:r=[0,0]}={})=>{var n;const s=null!=(n=e(r)?r:r[t])?n:[0,0];switch(t){case"top":return{left:o.scrollLeft+Math.round(o.width/2)-Math.round(l.width/2)+s[0],top:o.scrollTop-l.height-a+s[1]};case"tl":return{left:o.scrollLeft+s[0],top:o.scrollTop-l.height-a+s[1]};case"tr":return{left:o.scrollRight-l.width+s[0],top:o.scrollTop-l.height-a+s[1]};case"bottom":return{left:o.scrollLeft+Math.round(o.width/2)-Math.round(l.width/2)+s[0],top:o.scrollBottom+a+s[1]};case"bl":return{left:o.scrollLeft+s[0],top:o.scrollBottom+a+s[1]};case"br":return{left:o.scrollRight-l.width+s[0],top:o.scrollBottom+a+s[1]};case"left":return{left:o.scrollLeft-l.width-a+s[0],top:o.scrollTop+Math.round(o.height/2)-Math.round(l.height/2)+s[1]};case"lt":return{left:o.scrollLeft-l.width-a+s[0],top:o.scrollTop+s[1]};case"lb":return{left:o.scrollLeft-l.width-a+s[0],top:o.scrollBottom-l.height+s[1]};case"right":return{left:o.scrollRight+a+s[0],top:o.scrollTop+Math.round(o.height/2)-Math.round(l.height/2)+s[1]};case"rt":return{left:o.scrollRight+a+s[0],top:o.scrollTop+s[1]};case"rb":return{left:o.scrollRight+a+s[0],top:o.scrollBottom-l.height+s[1]};default:return{left:0,top:0}}},re=e=>{let t="0";["top","bottom"].includes(e)?t="50%":["left","lt","lb","tr","br"].includes(e)&&(t="100%");let o="0";return["left","right"].includes(e)?o="50%":["top","tl","tr","lt","rt"].includes(e)&&(o="100%"),`${t} ${o}`},ne=e=>e.scrollHeight>e.offsetHeight||e.scrollWidth>e.offsetWidth,se=e=>{var t;const o=[];let l=e;for(;l&&l!==document.documentElement;)ne(l)&&o.push(l),l=null!=(t=l.parentElement)?t:void 0;return o};function ie(e,l){const a=t(e[l]);return o((()=>{const t=e[l];a.value!==t&&(a.value=t)})),a}const ue=Symbol("ArcoTrigger");var pe=Object.defineProperty,ce=Object.defineProperties,de=Object.getOwnPropertyDescriptors,fe=Object.getOwnPropertySymbols,he=Object.prototype.hasOwnProperty,ve=Object.prototype.propertyIsEnumerable,ge=(e,t,o)=>t in e?pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,be=(e,t)=>{for(var o in t||(t={}))he.call(t,o)&&ge(e,o,t[o]);if(fe)for(var o of fe(t))ve.call(t,o)&&ge(e,o,t[o]);return e};const me=["onClick","onMouseenter","onMouseleave","onFocusin","onFocusout","onContextmenu"];var ye=a({name:"Trigger",inheritAttrs:!1,props:{popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},trigger:{type:[String,Array],default:"hover"},position:{type:String,default:"bottom"},disabled:{type:Boolean,default:!1},popupOffset:{type:Number,default:0},popupTranslate:{type:[Array,Object]},showArrow:{type:Boolean,default:!1},alignPoint:{type:Boolean,default:!1},popupHoverStay:{type:Boolean,default:!0},blurToClose:{type:Boolean,default:!0},clickToClose:{type:Boolean,default:!0},clickOutsideToClose:{type:Boolean,default:!0},unmountOnClose:{type:Boolean,default:!0},contentClass:{type:[String,Array,Object]},contentStyle:{type:Object},arrowClass:{type:[String,Array,Object]},arrowStyle:{type:Object},popupStyle:{type:Object},animationName:{type:String,default:"fade-in"},duration:{type:[Number,Object]},mouseEnterDelay:{type:Number,default:100},mouseLeaveDelay:{type:Number,default:100},focusDelay:{type:Number,default:0},autoFitPopupWidth:{type:Boolean,default:!1},autoFitPopupMinWidth:{type:Boolean,default:!1},autoFixPosition:{type:Boolean,default:!0},popupContainer:{type:[String,Object]},updateAtScroll:{type:Boolean,default:!1},autoFitTransformOrigin:{type:Boolean,default:!1},hideEmpty:{type:Boolean,default:!1},openedClass:{type:[String,Array,Object]},autoFitPosition:{type:Boolean,default:!0},renderToBody:{type:Boolean,default:!0},preventFocus:{type:Boolean,default:!1}},emits:{"update:popupVisible":e=>!0,popupVisibleChange:e=>!0,show:()=>!0,hide:()=>!0,resize:()=>!0},setup(e,{emit:a,slots:x,attrs:V}){const{popupContainer:$}=r(e),A=n("trigger"),E=s((()=>i(V,me))),L=u(p,void 0),z=s((()=>[].concat(e.trigger))),W=new Set,k=u(ue,void 0),{children:D,firstElement:H}=I(),N=t(),_=t(e.defaultPopupVisible),U=t(e.position),X=t({}),Z=t({}),J=t({}),K=t(),oe=t({top:0,left:0}),ne=s((()=>{var t;return null!=(t=e.popupVisible)?t:_.value})),{teleportContainer:pe,containerRef:fe}=c({popupContainer:$,visible:ne,documentContainer:!0}),{zIndex:he}=d("popup",{visible:ne});let ve=0,ge=!1;const ye=t=>{if(e.alignPoint){const{pageX:e,pageY:o}=t;oe.value={top:o,left:e}}},we=()=>{if(!H.value||!N.value||!fe.value)return;const t=fe.value.getBoundingClientRect(),o=e.alignPoint?{top:oe.value.top,bottom:oe.value.top,left:oe.value.left,right:oe.value.left,scrollTop:oe.value.top,scrollBottom:oe.value.top,scrollLeft:oe.value.left,scrollRight:oe.value.left,width:0,height:0}:te(H.value,t),l=te(N.value,t),{style:a,position:r}=((e,t,o,l,{offset:a=0,translate:r=[0,0],customStyle:n={},autoFitPosition:s=!1}={})=>{let i=e,u=ae(e,o,l,{offset:a,translate:r});if(s){const n=le(e,u,{containerRect:t,popupRect:l,triggerRect:o,offset:a,translate:r});u=n.popupPosition,i=n.position}return{style:ee({left:`${u.left}px`,top:`${u.top}px`},n),position:i}})(e.position,t,o,l,{offset:e.popupOffset,translate:e.popupTranslate,customStyle:e.popupStyle,autoFitPosition:e.autoFitPosition});e.autoFitTransformOrigin&&(Z.value={transformOrigin:re(r)}),e.autoFitPopupMinWidth?a.minWidth=`${o.width}px`:e.autoFitPopupWidth&&(a.width=`${o.width}px`),U.value!==r&&(U.value=r),X.value=a,e.showArrow&&(J.value=((e,t,o,{customStyle:l={}})=>{if(["top","tl","tr","bottom","bl","br"].includes(e)){let a=Math.abs(t.scrollLeft+t.width/2-o.scrollLeft);return a>o.width-8&&(a=t.width>o.width?o.width/2:o.width-8),["top","tl","tr"].includes(e)?ee({left:`${a}px`,bottom:"0",transform:"translate(-50%,50%) rotate(45deg)"},l):ee({left:`${a}px`,top:"0",transform:"translate(-50%,-50%) rotate(45deg)"},l)}let a=Math.abs(t.scrollTop+t.height/2-o.scrollTop);return a>o.height-8&&(a=t.height>o.height?o.height/2:o.height-8),["left","lt","lb"].includes(e)?ee({top:`${a}px`,right:"0",transform:"translate(50%,-50%) rotate(45deg)"},l):ee({top:`${a}px`,left:"0",transform:"translate(-50%,-50%) rotate(45deg)"},l)})(r,o,l,{customStyle:e.arrowStyle}))},Ce=(e,t)=>{if(e===ne.value&&0===ve)return;const o=()=>{_.value=e,a("update:popupVisible",e),a("popupVisibleChange",e),e&&F((()=>{we()}))};t?(ve&&(window.clearTimeout(ve),ve=0),e!==ne.value&&(ve=window.setTimeout(o,t))):o()},Oe=t=>{var o;null==(o=V.onClick)||o.call(V,t),e.disabled||ne.value&&!e.clickToClose||(z.value.includes("click")?(ye(t),Ce(!ne.value)):z.value.includes("contextMenu")&&ne.value&&Ce(!1))},Se=t=>{var o;null==(o=V.onMouseenter)||o.call(V,t),!e.disabled&&z.value.includes("hover")&&(ye(t),Ce(!0,e.mouseEnterDelay))},Pe=e=>{null==k||k.onMouseenter(e),Se(e)},Be=t=>{var o;null==(o=V.onMouseleave)||o.call(V,t),!e.disabled&&z.value.includes("hover")&&Ce(!1,e.mouseLeaveDelay)},Re=e=>{null==k||k.onMouseleave(e),Be(e)},Te=t=>{var o;null==(o=V.onFocusin)||o.call(V,t),!e.disabled&&z.value.includes("focus")&&Ce(!0,e.focusDelay)},je=t=>{var o;null==(o=V.onFocusout)||o.call(V,t),!e.disabled&&z.value.includes("focus")&&e.blurToClose&&Ce(!1)},Me=t=>{var o;null==(o=V.onContextmenu)||o.call(V,t),e.disabled||!z.value.includes("contextMenu")||ne.value&&!e.clickToClose||(ye(t),Ce(!ne.value),t.preventDefault())};f(ue,h({onMouseenter:Pe,onMouseleave:Re,addChildRef:e=>{W.add(e),null==k||k.addChildRef(e)},removeChildRef:e=>{W.delete(e),null==k||k.removeChildRef(e)}}));const Fe=()=>{M(document.documentElement,"mousedown",$e),ge=!1},xe=ie(x,"content"),Ve=s((()=>{var t;return e.hideEmpty&&v(null==(t=xe.value)?void 0:t.call(xe))})),$e=e=>{var t,o,l;if(!(null==(t=H.value)?void 0:t.contains(e.target))&&!(null==(o=N.value)?void 0:o.contains(e.target))){for(const t of W)if(null==(l=t.value)?void 0:l.contains(e.target))return;Fe(),Ce(!1)}},Ae=function(e){let t=0;const o=(...o)=>{t&&Q(t),t=G((()=>{e(...o),t=0}))};return o.cancel=()=>{Q(t),t=0},o}((()=>{ne.value&&we()})),Ee=()=>{ne.value&&we()},Le=()=>{Ee(),a("resize")},ze=t=>{e.preventFocus&&t.preventDefault()};null==k||k.addChildRef(N);const We=s((()=>ne.value?e.openedClass:void 0));let ke;g(ne,(t=>{if(e.clickOutsideToClose&&(!t&&ge?Fe():t&&!ge&&(b(document.documentElement,"mousedown",$e),ge=!0)),e.updateAtScroll||(null==L?void 0:L.updateAtScroll))if(t){ke=se(H.value);for(const e of ke)e.addEventListener("scroll",Ae)}else if(ke){for(const e of ke)e.removeEventListener("scroll",Ae);ke=void 0}t&&(Ne.value=!0)})),g((()=>[e.autoFitPopupWidth,e.autoFitPopupMinWidth]),(()=>{ne.value&&we()}));const{createResizeObserver:De,destroyResizeObserver:He}=(({elementRef:e,onResize:t})=>{let o;return{createResizeObserver:()=>{e.value&&(o=new Y((e=>{const o=e[0];l(t)&&t(o)})),o.observe(e.value))},destroyResizeObserver:()=>{o&&(o.disconnect(),o=null)}}})({elementRef:fe,onResize:Ee});m((()=>{if(De(),ne.value&&(we(),e.clickOutsideToClose&&!ge&&(b(document.documentElement,"mousedown",$e),ge=!0),e.updateAtScroll||(null==L?void 0:L.updateAtScroll))){ke=se(H.value);for(const e of ke)e.addEventListener("scroll",Ae)}})),o((()=>{ne.value&&we()})),y((()=>{if(null==k||k.removeChildRef(N),He(),ge&&Fe(),ke){for(const e of ke)e.removeEventListener("scroll",Ae);ke=void 0}}));const Ne=t(ne.value),Ie=t(!1),qe=()=>{Ie.value=!0},Ye=()=>{Ie.value=!1,ne.value&&a("show")},_e=()=>{Ie.value=!1,ne.value||(Ne.value=!1,a("hide"))};return()=>{var t,o;return D.value=null!=(o=null==(t=x.default)?void 0:t.call(x))?o:[],w(D.value,{class:We.value,onClick:Oe,onMouseenter:Se,onMouseleave:Be,onFocusin:Te,onFocusout:je,onContextmenu:Me}),C(j,null,[e.autoFixPosition?C(q,{onResize:Le},{default:()=>[D.value]}):D.value,C(O,null,{default:()=>[C(S,{to:pe.value,disabled:!e.renderToBody},{default:()=>[(!e.unmountOnClose||ne.value||Ne.value)&&!Ve.value&&C(q,{onResize:Ee},{default:()=>{return[C("div",P({ref:N,class:[`${A}-popup`,`${A}-position-${U.value}`],style:(t=be({},X.value),o={zIndex:he.value,pointerEvents:Ie.value?"none":"auto"},ce(t,de(o))),"trigger-placement":U.value,onMouseenter:Pe,onMouseleave:Re,onMousedown:ze},E.value),[C(B,{name:e.animationName,duration:e.duration,appear:!0,onBeforeEnter:qe,onAfterEnter:Ye,onBeforeLeave:qe,onAfterLeave:_e},{default:()=>{var t;return[R(C("div",{class:`${A}-popup-wrapper`,style:Z.value},[C("div",{class:[`${A}-content`,e.contentClass],style:e.contentStyle},[null==(t=x.content)?void 0:t.call(x)]),e.showArrow&&C("div",{ref:K,class:[`${A}-arrow`,e.arrowClass],style:J.value},null)]),[[T,ne.value]])]}})])];var t,o}})]})]})])}}});const we=Object.assign(ye,{install:(e,t)=>{x(e,t);const o=V(t);e.component(o+ye.name,ye)}});var Ce=$(a({name:"Popover",components:{Trigger:we},props:{popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},title:String,content:String,trigger:{type:[String,Array],default:"hover"},position:{type:String,default:"top"},contentClass:{type:[String,Array,Object]},contentStyle:{type:Object},arrowClass:{type:[String,Array,Object]},arrowStyle:{type:Object},popupContainer:{type:[String,Object]}},emits:{"update:popupVisible":e=>!0,popupVisibleChange:e=>!0},setup(e,{emit:o}){const l=n("popover"),a=t(e.defaultPopupVisible),r=s((()=>{var t;return null!=(t=e.popupVisible)?t:a.value})),i=s((()=>[`${l}-popup-content`,e.contentClass])),u=s((()=>[`${l}-popup-arrow`,e.arrowClass]));return{prefixCls:l,computedPopupVisible:r,contentCls:i,arrowCls:u,handlePopupVisibleChange:e=>{a.value=e,o("update:popupVisible",e),o("popupVisibleChange",e)}}}}),[["render",function(e,t,o,l,a,r){const n=A("trigger");return E(),L(n,{class:N(e.prefixCls),trigger:e.trigger,position:e.position,"popup-visible":e.computedPopupVisible,"popup-offset":10,"content-class":e.contentCls,"content-style":e.contentStyle,"arrow-class":e.arrowCls,"arrow-style":e.arrowStyle,"show-arrow":"","popup-container":e.popupContainer,"animation-name":"zoom-in-fade-out","auto-fit-transform-origin":"",onPopupVisibleChange:e.handlePopupVisibleChange},{content:z((()=>[W("div",{class:N(`${e.prefixCls}-title`)},[k(e.$slots,"title",{},(()=>[D(H(e.title),1)]))],2),W("div",{class:N(`${e.prefixCls}-content`)},[k(e.$slots,"content",{},(()=>[D(H(e.content),1)]))],2)])),default:z((()=>[k(e.$slots,"default")])),_:3},8,["class","trigger","position","popup-visible","content-class","content-style","arrow-class","arrow-style","popup-container","onPopupVisibleChange"])}]]);const Oe=Object.assign(Ce,{install:(e,t)=>{x(e,t);const o=V(t);e.component(o+Ce.name,Ce)}});export{Oe as P,we as T,Q as c,G as r,ie as u};
