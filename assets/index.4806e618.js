var e=(e,t,i)=>new Promise(((s,a)=>{var n=e=>{try{o(i.next(e))}catch(t){a(t)}},r=e=>{try{o(i.throw(e))}catch(t){a(t)}},o=e=>e.done?s(e.value):Promise.resolve(e.value).then(n,r);o((i=i.apply(e,t)).next())}));/* empty css              */import{d as t,t as i,k as s,g as a,r as n,c as r,o,_ as l,L as u,K as c,a6 as d,aC as p,Z as f,w as v,x as z,y as m,D as g,q as S,H as x,J as h,M as y,a2 as w,aD as P,s as b,v as $,X as C,A as R,b as j}from"./index.2f949fd3.js";import{R as M}from"./resize-trigger.7aef22a8.js";import{u as N}from"./use-merge-state.384ee477.js";import"./resize-observer.516a876a.js";import"./ResizeObserver.es.bd9ff68d.js";function X(e){const t=u(e)?parseFloat(e):e;let i="";return i=c(e)||String(t)===e?t>1?"px":"%":"px",{size:t,unit:i,isPx:"px"===i}}function k({size:e,defaultSize:t,containerSize:i}){const s=X(null!=e?e:t);return s.isPx?s.size:s.size*i}var T=l(t({name:"Split",components:{ResizeTrigger:M},props:{component:{type:String,default:"div"},direction:{type:String,default:"horizontal"},size:{type:[Number,String],default:void 0},defaultSize:{type:[Number,String],default:.5},min:{type:[Number,String]},max:{type:[Number,String]},disabled:{type:Boolean,default:!1}},emits:{moveStart:e=>!0,moving:e=>!0,moveEnd:e=>!0,"update:size":e=>!0},setup(t,{emit:l}){const{direction:u,size:c,defaultSize:f,min:v,max:z}=i(t),m=s(0),g=s(),S=a("split"),[x,h]=N(f.value,n({value:c})),y=r((()=>X(x.value))),w=r((()=>"horizontal"===u.value)),b=r((()=>[S,{[`${S}-horizontal`]:w.value,[`${S}-vertical`]:!w.value}])),$=r((()=>{const{size:e,unit:t,isPx:i}=y.value;return{flex:`0 0 calc(${i?e:100*e}${t} - ${m.value/2}px)`}})),C={startPageX:0,startPageY:0,startContainerSize:0,startSize:0};function R(){return e(this,null,(function*(){const e=()=>{var e,t;return w.value?null==(e=g.value)?void 0:e.clientWidth:(null==(t=g.value)?void 0:t.clientHeight)||0};return g.value&&!e()||(yield d()),e()}))}function j(e,t){if(!t)return;const i=y.value.isPx?`${e}px`:(s=t,parseFloat(e)/parseFloat(s));var s;x.value!==i&&(h(i),l("update:size",i))}function M(e,t){const i=k({size:e,containerSize:t}),s=k({size:v.value,defaultSize:"0px",containerSize:t}),a=k({size:z.value,defaultSize:`${t}px`,containerSize:t});let n=i;return n=Math.max(n,s),n=Math.min(n,a),n}function T({startContainerSize:e,startSize:t,startPosition:i,endPosition:s}){return M(`${k({size:t,containerSize:e})+(s-i)}px`,e)}function Y(e){l("moving",e);j(w.value?T({startContainerSize:C.startContainerSize,startSize:C.startSize,startPosition:C.startPageX,endPosition:e.pageX}):T({startContainerSize:C.startContainerSize,startSize:C.startSize,startPosition:C.startPageY,endPosition:e.pageY}),C.startContainerSize)}function _(e){P(window,"mousemove",Y),P(window,"mouseup",_),P(window,"contextmenu",_),document.body.style.cursor="default",l("moveEnd",e)}return o((()=>e(this,null,(function*(){const e=yield R();j(M(x.value,e),e)})))),{prefixCls:S,classNames:b,isHorizontal:w,wrapperRef:g,onMoveStart:function(t){return e(this,null,(function*(){l("moveStart",t),C.startPageX=t.pageX,C.startPageY=t.pageY,C.startContainerSize=yield R(),C.startSize=x.value,p(window,"mousemove",Y),p(window,"mouseup",_),p(window,"contextmenu",_),document.body.style.cursor=w.value?"col-resize":"row-resize"}))},onTriggerResize:function(e){const{width:t,height:i}=e.contentRect;m.value=w.value?t:i},firstPaneStyles:$}}}),[["render",function(e,t,i,s,a,n){const r=f("ResizeTrigger");return v(),z(w(e.component),{ref:"wrapperRef",class:x(e.classNames)},{default:m((()=>[g("div",{class:x([`${e.prefixCls}-pane`,`${e.prefixCls}-pane-first`]),style:h(e.firstPaneStyles)},[S(e.$slots,"first")],6),e.disabled?y("v-if",!0):(v(),z(r,{key:0,"prefix-cls":`${e.prefixCls}-trigger`,direction:e.isHorizontal?"vertical":"horizontal",onMousedown:e.onMoveStart,onResize:e.onTriggerResize},{default:m((()=>[S(e.$slots,"resize-trigger")])),icon:m((()=>[S(e.$slots,"resize-trigger-icon")])),_:3},8,["prefix-cls","direction","onMousedown","onResize"])),g("div",{class:x([`${e.prefixCls}-pane`,`${e.prefixCls}-pane-second`])},[S(e.$slots,"second")],2)])),_:3},8,["class"])}]]);const Y=Object.assign(T,{install:(e,t)=>{b(e,t);const i=$(t);e.component(i+T.name,T)}}),_=t({name:"SplitDemo",setup:()=>({})}),H={class:"container"},D=g("div",{style:{"background-color":"#f38181",width:"100%",height:"100%"}},"Right",-1),F=g("div",{style:{"background-color":"#fce38a",width:"100%",height:"100%"}},"Top",-1),B=g("div",{style:{"background-color":"#95e1d3",width:"100%",height:"100%"}},"Bottom ",-1);const E=C(_,[["render",function(e,t,i,s,a,n){const r=Y;return v(),R("div",H,[j(r,{style:h({height:"500px",border:"1px solid var(--color-border)"})},{first:m((()=>[D])),second:m((()=>[g("div",null,[j(r,{direction:"vertical",style:{height:"495px"}},{first:m((()=>[F])),second:m((()=>[B])),_:1})])])),_:1},8,["style"])])}]]);export{E as default};
