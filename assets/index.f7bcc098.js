var e=Object.defineProperty,t=Object.defineProperties,i=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,n=(t,i,a)=>i in t?e(t,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[i]=a,s=(e,t)=>{for(var i in t||(t={}))r.call(t,i)&&n(e,i,t[i]);if(a)for(var i of a(t))o.call(t,i)&&n(e,i,t[i]);return e},l=(e,a)=>t(e,i(a)),u=(e,t)=>{var i={};for(var n in e)r.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&a)for(var n of a(e))t.indexOf(n)<0&&o.call(e,n)&&(i[n]=e[n]);return i},d=(e,t,i)=>new Promise(((a,r)=>{var o=e=>{try{s(i.next(e))}catch(t){r(t)}},n=e=>{try{s(i.throw(e))}catch(t){r(t)}},s=e=>e.done?a(e.value):Promise.resolve(e.value).then(o,n);s((i=i.apply(e,t)).next())}));/* empty css              */import{C as p}from"./index.7d281682.js";import{d as c,ab as h,al as v,g as m,j as f,c as g,_ as y,Y as b,w as k,A as x,C,q as w,H as O,x as _,y as M,b as S,a0 as P,M as $,a2 as I,e as j,ar as z,aq as T,ap as B,ao as L,t as q,k as E,o as A,a5 as N,l as R,J as Z,W as K,V as H,b2 as W,u as D,r as F,p as U,m as G,n as V,s as J,v as X,bg as Y,bh as Q,av as ee,aw as te,aT as ie,aU as ae,F as re,a6 as oe,bi as ne,aa as se,z as le,B as ue,a1 as de}from"./index.6fd1736c.js";import{R as pe}from"./resize-observer.d99ec281.js";import{u as ce}from"./use-children-components.8a4af2d6.js";import"./index.f4377dc4.js";import"./ResizeObserver.es.bd9ff68d.js";const he=Symbol("ArcoTabs");var ve=y(c({name:"TabsTab",components:{IconHover:h,IconClose:v},props:{tab:{type:Object,required:!0},active:Boolean,editable:Boolean},emits:["click","delete"],setup(e,{emit:t}){const i=m("tabs-tab"),a=f(he,{}),r=i=>{e.tab.disabled||t("click",e.tab.key,i)},o=e=>{"Enter"===e.key&&r(e)},n=g((()=>Object.assign("click"===a.trigger?{onClick:r}:{onMouseover:r},{onKeydown:o}))),s=g((()=>[i,{[`${i}-active`]:e.active,[`${i}-closable`]:e.tab.closable,[`${i}-disabled`]:e.tab.disabled}]));return{prefixCls:i,cls:s,eventHandlers:n,handleDelete:i=>{e.tab.disabled||t("delete",e.tab.key,i)}}}}),[["render",function(e,t,i,a,r,o){const n=b("icon-close"),s=b("icon-hover");return k(),x("div",I({tabindex:"0",class:e.cls},e.eventHandlers),[C("span",{class:O(`${e.prefixCls}-title`)},[w(e.$slots,"default")],2),e.editable&&e.tab.closable?(k(),_(s,{key:0,class:O(`${e.prefixCls}-close-btn`),onClick:P(e.handleDelete,["stop"])},{default:M((()=>[S(n)])),_:1},8,["class","onClick"])):$("v-if",!0)],16)}]]);var me=c({name:"TabsButton",props:{type:{type:String,default:"next"},direction:{type:String,default:"horizontal"},disabled:{type:Boolean,default:!1},onClick:{type:Function}},emits:["click"],setup(e,{emit:t}){const i=m("tabs-nav-button"),a=i=>{e.disabled||t("click",e.type,i)},r=g((()=>[i,{[`${i}-disabled`]:e.disabled,[`${i}-left`]:"horizontal"===e.direction&&"previous"===e.type,[`${i}-right`]:"horizontal"===e.direction&&"next"===e.type,[`${i}-up`]:"vertical"===e.direction&&"previous"===e.type,[`${i}-down`]:"vertical"===e.direction&&"next"===e.type}]));return()=>{let t;return S("div",{class:r.value,onClick:a},[S(h,{disabled:e.disabled},(i=t="horizontal"===e.direction?"next"===e.type?S(z,null,null):S(T,null,null):"next"===e.type?S(B,null,null):S(L,null,null),"function"==typeof i||"[object Object]"===Object.prototype.toString.call(i)&&!j(i)?t:{default:()=>[t]}))]);var i}}});var fe=y(c({name:"TabsNavInk",props:{activeTabRef:{type:Object},direction:{type:String},disabled:Boolean,animation:Boolean},setup(e){const{activeTabRef:t}=q(e),i=m("tabs-nav-ink"),a=E(0),r=E(0),o=g((()=>"vertical"===e.direction?{top:`${a.value}px`,height:`${r.value}px`}:{left:`${a.value}px`,width:`${r.value}px`})),n=()=>{if(t.value){const i="vertical"===e.direction?t.value.offsetTop:t.value.offsetLeft,o="vertical"===e.direction?t.value.offsetHeight:t.value.offsetWidth;i===a.value&&o===r.value||(a.value=i,r.value=o)}};A((()=>{N((()=>n()))})),R((()=>{n()}));const s=g((()=>[i,{[`${i}-animation`]:e.animation,[`${i}-disabled`]:e.disabled}]));return{prefixCls:i,cls:s,style:o}}}),[["render",function(e,t,i,a,r,o){return k(),x("div",{class:O(e.cls),style:Z(e.style)},null,6)}]]),ge=c({name:"TabsNav",props:{tabs:{type:Array,required:!0},direction:{type:String,required:!0},type:{type:String,required:!0},activeKey:{type:[String,Number]},activeIndex:{type:Number,required:!0},position:{type:String,required:!0},size:{type:String,required:!0},showAddButton:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},animation:{type:Boolean,required:!0},headerPadding:{type:Boolean,default:!0}},emits:["click","add","delete"],setup(e,{emit:t,slots:i}){const{tabs:a,activeKey:r,activeIndex:o,direction:n}=q(e),s=m("tabs-nav"),l=E(),u=E(),d=E({}),p=g((()=>{if(!K(r.value))return d.value[r.value]})),c=E(),v=g((()=>e.editable&&["line","card","card-gutter"].includes(e.type))),f=E(!1),y=E(0),b=E(0),k=E([]),x=E(0),C=()=>{var e,t,i;f.value=w(),f.value?(y.value=null!=(i="vertical"===n.value?null==(e=l.value)?void 0:e.offsetHeight:null==(t=l.value)?void 0:t.offsetWidth)?i:0,b.value=u.value&&l.value?"vertical"===n.value?u.value.offsetHeight-l.value.offsetHeight:u.value.offsetWidth-l.value.offsetWidth:0,k.value=a.value.map((e=>{const t=d.value[e.key];return"vertical"===n.value?t.offsetTop+t.offsetHeight:t.offsetLeft+t.offsetWidth})),x.value>b.value&&(x.value=b.value)):x.value=0},w=()=>!(!l.value||!u.value)&&("vertical"===e.direction?u.value.offsetHeight>l.value.offsetHeight:u.value.offsetWidth>l.value.offsetWidth),O=e=>{var t;return(null!=(t=k.value[e-1])?t:0)>=x.value&&k.value[e]<=x.value+y.value},_=(e,i)=>{t("click",e,i)},M=(e,i)=>{t("delete",e,i)},P=t=>{var i;x.value=(i=(t=>l.value?"capsule"===e.type?"previous"===t?x.value+y.value:x.value-y.value:"previous"===t?x.value-y.value:x.value+y.value:0)(t),!l.value||!u.value||i<0?0:i>b.value?b.value:i)},$=()=>{C(),c.value&&c.value.$forceUpdate()};H(a,(()=>{N((()=>{C()}))})),H(o,((e,t)=>{N((()=>{var i;if(f.value)if(e>=t){const t=e<k.value.length-1?e+1:e;O(t)||(x.value=k.value[t]-y.value)}else{const t=e>0?e-1:e;O(t)||(x.value=null!=(i=k.value[t-1])?i:0)}}))})),A((()=>{C()}));const I=()=>v.value&&e.showAddButton?S("div",{class:`${s}-add-btn`,onClick:e=>t("add",e)},[S(h,null,{default:()=>[S(W,null,null)]})]):null,j=g((()=>[s,`${s}-${e.direction}`,`${s}-${e.position}`,`${s}-size-${e.size}`,`${s}-type-${e.type}`])),z=g((()=>[`${s}-tab-list`,{[`${s}-tab-list-no-padding`]:!e.headerPadding&&["line","text"].includes(e.type)&&"horizontal"===e.direction}])),T=g((()=>(({direction:e,type:t,offset:i})=>"vertical"===e?{transform:`translateY(${-i}px)`}:"capsule"===t?{transform:`translateX(${i}px)`}:{transform:`translateX(${-i}px)`})({direction:e.direction,type:e.type,offset:x.value})));return()=>{var t;return S("div",{class:j.value},[f.value&&S(me,{type:"previous",direction:e.direction,disabled:x.value<=0,onClick:P},null),S(pe,{onResize:()=>C()},{default:()=>[S("div",{class:`${s}-tab`,ref:l},[S(pe,{onResize:$},{default:()=>[S("div",{ref:u,class:z.value,style:T.value},[e.tabs.map(((t,i)=>S(ve,{key:t.key,ref:e=>{(null==e?void 0:e.$el)&&(d.value[t.key]=e.$el)},active:t.key===r.value,tab:t,editable:e.editable,onClick:_,onDelete:M},{default:()=>{var e,i,a;return[null!=(a=null==(i=(e=t.slots).title)?void 0:i.call(e))?a:t.title]}}))),"line"===e.type&&S(fe,{ref:c,activeTabRef:p.value,direction:e.direction,disabled:!1,animation:e.animation},null)])]}),!f.value&&I()])]}),f.value&&S(me,{type:"next",direction:e.direction,disabled:x.value>=b.value,onClick:P},null),S("div",{class:`${s}-extra`},[f.value&&I(),null==(t=i.extra)?void 0:t.call(i)])])}}}),ye=c({name:"Tabs",props:{activeKey:{type:[String,Number],default:void 0},defaultActiveKey:{type:[String,Number],default:void 0},position:{type:String,default:"top"},size:{type:String},type:{type:String,default:"line"},direction:{type:String,default:"horizontal"},editable:{type:Boolean,default:!1},showAddButton:{type:Boolean,default:!1},destroyOnHide:{type:Boolean,default:!1},lazyLoad:{type:Boolean,default:!1},justify:{type:Boolean,default:!1},animation:{type:Boolean,default:!1},headerPadding:{type:Boolean,default:!0},autoSwitch:{type:Boolean,default:!1},hideContent:{type:Boolean,default:!1},trigger:{type:String,default:"click"}},emits:{"update:activeKey":e=>!0,change:e=>!0,tabClick:(e,t)=>!0,add:e=>!0,delete:(e,t)=>!0},setup(e,{emit:t,slots:i}){const{size:a,lazyLoad:r,destroyOnHide:o,trigger:n}=q(e),s=m("tabs"),{mergedSize:l}=D(a),u=g((()=>"vertical"===e.direction?"left":e.position)),d=g((()=>["left","right"].includes(u.value)?"vertical":"horizontal")),{children:p,components:c}=ce("TabPane"),h=F(new Map),v=g((()=>{const e=[];return c.value.forEach((t=>{const i=h.get(t);i&&e.push(i)})),e})),f=g((()=>v.value.map((e=>e.key)))),y=E(e.defaultActiveKey),b=g((()=>{var t;const i=null!=(t=e.activeKey)?t:y.value;return K(i)?f.value[0]:i})),k=g((()=>{const e=f.value.indexOf(b.value);return-1===e?0:e}));U(he,F({lazyLoad:r,destroyOnHide:o,activeKey:b,addItem:(e,t)=>{h.set(e,t)},removeItem:e=>{h.delete(e)},trigger:n}));const x=e=>{e!==b.value&&(y.value=e,t("update:activeKey",e),t("change",e))},C=(e,i)=>{x(e),t("tabClick",e,i)},w=i=>{t("add",i),e.autoSwitch&&N((()=>{const e=f.value[f.value.length-1];x(e)}))},O=(e,i)=>{t("delete",e,i)},_=()=>S("div",{class:[`${s}-content`,{[`${s}-content-hide`]:e.hideContent}]},[S("div",{class:[`${s}-content-list`,{[`${s}-content-animation`]:e.animation}],style:{marginLeft:`-${100*k.value}%`}},[p.value])]),M=g((()=>[s,`${s}-${d.value}`,`${s}-${u.value}`,`${s}-type-${e.type}`,`${s}-size-${l.value}`,{[`${s}-justify`]:e.justify}]));return()=>{var t;return p.value=null==(t=i.default)?void 0:t.call(i),S("div",{class:M.value},["bottom"===u.value&&_(),S(ge,{tabs:v.value,activeKey:b.value,activeIndex:k.value,direction:d.value,position:u.value,editable:e.editable,animation:e.animation,showAddButton:e.showAddButton,headerPadding:e.headerPadding,size:l.value,type:e.type,onClick:C,onAdd:w,onDelete:O},{extra:i.extra}),"bottom"!==u.value&&_()])}}});var be=y(c({name:"TabPane",props:{title:String,disabled:{type:Boolean,default:!1},closable:{type:Boolean,default:!0},destroyOnHide:{type:Boolean,default:!1}},setup(e,{slots:t}){var i;const{title:a,disabled:r,closable:o}=q(e),n=V(),s=m("tabs"),l=f(he,{}),u=E(),d=g((()=>null==n?void 0:n.vnode.key)),p=g((()=>d.value===l.activeKey)),c=E(!l.lazyLoad||p.value),h=F({key:d,title:a,disabled:r,closable:o,slots:t});return(null==n?void 0:n.uid)&&(null==(i=l.addItem)||i.call(l,n.uid,h)),G((()=>{var e;(null==n?void 0:n.uid)&&(null==(e=l.removeItem)||e.call(l,n.uid))})),H(p,(t=>{t?c.value||(c.value=!0):(e.destroyOnHide||l.destroyOnHide)&&(c.value=!1)})),{prefixCls:s,active:p,itemRef:u,mounted:c}}}),[["render",function(e,t,i,a,r,o){return k(),x("div",{ref:"itemRef",class:O([`${e.prefixCls}-content-item`,{[`${e.prefixCls}-content-item-active`]:e.active}])},[e.mounted?(k(),x("div",{key:0,class:O(`${e.prefixCls}-pane`)},[w(e.$slots,"default")],2)):$("v-if",!0)],2)}]]);const ke=Object.assign(ye,{TabPane:be,install:(e,t)=>{J(e,t);const i=X(t);e.component(i+ye.name,ye),e.component(i+be.name,be)}}),xe=c({__name:"GaodeMap",setup(e){const{load:t}=Y("https://webapi.amap.com/maps?v=2.0&key=6db51d6c808436f8874d45582e2431be"),i=E();return A((()=>{!function(){d(this,null,(function*(){yield t(!0),i.value&&new AMap.Map(i.value,{zoom:11,center:[116.397428,39.90923],viewMode:"3D"}).getCenter()}))}()})),(e,t)=>(k(),x("div",{ref_key:"domRef",ref:i,class:"w-full h-400px"},null,512))}}),Ce=c({__name:"BaiduMap",setup(e){const{load:t}=Y("https://api.map.baidu.com/getscript?v=3.0&ak=EOajwlMpWrGW4lVIMKTcehm3r111kIGs&services=&t=20220715100830&s=1"),i=E();return A((()=>{!function(){d(this,null,(function*(){if(yield t(!0),!i.value)return;const e=new BMap.Map(i.value),a=new BMap.Point(116.397428,39.90923);e.centerAndZoom(a,12),e.enableScrollWheelZoom()}))}()})),(e,t)=>(k(),x("div",{ref_key:"domRef",ref:i,class:"w-full h-400px"},null,512))}}),we=c({__name:"TengxunMap",setup(e){const{load:t}=Y("https://map.qq.com/api/gljs?v=1.exp&key=JBYBZ-P3AWD-3HQ4M-PKVDE-B4WBH-PJBKX"),i=E(null);return A((()=>{!function(){d(this,null,(function*(){yield t(!0),i.value&&new TMap.Map(i.value,{center:new TMap.LatLng(39.90923,116.397428),zoom:11,viewMode:"3D"})}))}()})),(e,t)=>(k(),x("div",{ref_key:"domRef",ref:i,class:"w-full h-400px"},null,512))}});let Oe=Symbol("map"),_e=Symbol("api"),Me=Symbol("marker"),Se=Symbol("markerCluster"),Pe=Symbol("CustomMarker"),$e=Symbol("mapTilesLoaded"),Ie="click dblclick drag dragend dragstart mousedown mousemove mouseout mouseover mouseup rightclick".split(" ");var je=function e(t,i){if(t===i)return!0;if(t&&i&&"object"==typeof t&&"object"==typeof i){if(t.constructor!==i.constructor)return!1;var a;if(Array.isArray(t)){var r=t.length;if(r!=i.length)return!1;for(a=r;0!=a--;)if(!e(t[a],i[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===i.source&&t.flags===i.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===i.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===i.toString();var o=Object.keys(t);if((r=o.length)!==Object.keys(i).length)return!1;for(a=r;0!=a--;)if(!Object.prototype.hasOwnProperty.call(i,o[a]))return!1;for(a=r;0!=a--;)if(!e(t[r=o[a]],i[r]))return!1;return!0}return t!=t&&i!=i};class ze{constructor({apiKey:e,channel:t,client:i,id:a="__googleMapsScriptId",libraries:r=[],language:o,region:n,version:s,mapIds:l,nonce:u,retries:d=3,url:p="https://maps.googleapis.com/maps/api/js"}){if(this.CALLBACK="__googleMapsCallback",this.callbacks=[],this.loading=this.done=!1,this.errors=[],this.version=s,this.apiKey=e,this.channel=t,this.client=i,this.id=a||"__googleMapsScriptId",this.libraries=r,this.language=o,this.region=n,this.mapIds=l,this.nonce=u,this.retries=d,this.url=p,ze.instance){if(!je(this.options,ze.instance.options))throw Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(ze.instance.options)}`);return ze.instance}ze.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url}}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+=`?callback=${this.CALLBACK}`,this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),0<this.libraries.length&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),e}deleteScript(){let e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise(((e,t)=>{this.loadCallback((i=>{i?t(i.error):e(window.google)}))}))}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){if(document.getElementById(this.id))this.callback();else{var e=this.createUrl(),t=document.createElement("script");t.id=this.id,t.type="text/javascript",t.src=e,t.onerror=this.loadErrorCallback.bind(this),t.defer=!0,t.async=!0,this.nonce&&(t.nonce=this.nonce),document.head.appendChild(t)}}reset(){this.deleteScript(),this.loading=this.done=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){this.errors.push(e),this.errors.length<=this.retries?(e=this.errors.length*Math.pow(2,this.errors.length),setTimeout((()=>{this.deleteScript(),this.setScript()}),e)):(this.onerrorEvent=e,this.callback())}setCallback(){window.__googleMapsCallback=this.callback.bind(this)}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach((e=>{e(this.onerrorEvent)})),this.callbacks=[]}execute(){this.resetIfRetryingFailed(),this.done||window.google&&window.google.maps&&window.google.maps.version?this.callback():this.loading||(this.loading=!0,this.setCallback(),this.setScript())}}let Te,Be="bounds_changed center_changed click dblclick drag dragend dragstart heading_changed idle maptypeid_changed mousemove mouseout mouseover projection_changed resize rightclick tilesloaded tilt_changed zoom_changed".split(" ");var Le=c({props:{apiPromise:{type:Promise},apiKey:{type:String,default:""},version:{type:String,default:"weekly"},libraries:{type:Array,default:()=>["places"]},region:{type:String,required:!1},language:{type:String,required:!1},backgroundColor:{type:String,required:!1},center:{type:Object,default:()=>({lat:0,lng:0})},clickableIcons:{type:Boolean,required:!1,default:void 0},controlSize:{type:Number,required:!1},disableDefaultUi:{type:Boolean,required:!1,default:void 0},disableDoubleClickZoom:{type:Boolean,required:!1,default:void 0},draggable:{type:Boolean,required:!1,default:void 0},draggableCursor:{type:String,required:!1},draggingCursor:{type:String,required:!1},fullscreenControl:{type:Boolean,required:!1,default:void 0},fullscreenControlPosition:{type:String,required:!1},gestureHandling:{type:String,required:!1},heading:{type:Number,required:!1},keyboardShortcuts:{type:Boolean,required:!1,default:void 0},mapTypeControl:{type:Boolean,required:!1,default:void 0},mapTypeControlOptions:{type:Object,required:!1},mapTypeId:{type:[Number,String],required:!1},mapId:{type:String,required:!1},maxZoom:{type:Number,required:!1},minZoom:{type:Number,required:!1},noClear:{type:Boolean,required:!1,default:void 0},panControl:{type:Boolean,required:!1,default:void 0},panControlPosition:{type:String,required:!1},restriction:{type:Object,required:!1},rotateControl:{type:Boolean,required:!1,default:void 0},rotateControlPosition:{type:String,required:!1},scaleControl:{type:Boolean,required:!1,default:void 0},scaleControlStyle:{type:Number,required:!1},scrollwheel:{type:Boolean,required:!1,default:void 0},streetView:{type:Object,required:!1},streetViewControl:{type:Boolean,required:!1,default:void 0},streetViewControlPosition:{type:String,required:!1},styles:{type:Array,required:!1},tilt:{type:Number,required:!1},zoom:{type:Number,required:!1},zoomControl:{type:Boolean,required:!1,default:void 0},zoomControlPosition:{type:String,required:!1}},emits:Be,setup(e,{emit:t}){let i=E(),a=E(!1),r=E(),o=E(),n=E(!1);U(Oe,r),U(_e,o),U($e,n);let l=()=>{const t=s({},e);Object.keys(t).forEach((e=>{void 0===t[e]&&delete t[e]}));var i=e=>{var t;return e?{position:null===(t=o.value)||void 0===t?void 0:t.ControlPosition[e]}:{}};return i={scaleControlOptions:e.scaleControlStyle?{style:e.scaleControlStyle}:{},panControlOptions:i(e.panControlPosition),zoomControlOptions:i(e.zoomControlPosition),rotateControlOptions:i(e.rotateControlPosition),streetViewControlOptions:i(e.streetViewControlPosition),fullscreenControlOptions:i(e.fullscreenControlPosition),disableDefaultUI:e.disableDefaultUi},s(s({},t),i)},d=H([o,r],(([e,t])=>{e&&t&&(e.event.addListenerOnce(t,"tilesloaded",(()=>{n.value=!0})),setTimeout(d,0))}),{immediate:!0}),p=n=>{o.value=ne(n.maps),r.value=ne(new n.maps.Map(i.value,l())),n=function(e){return class extends e.OverlayView{constructor(e){super();let t=e,{element:i}=t,a=u(t,["element"]);this.element=i,this.opts=a,this.opts.map&&this.setMap(this.opts.map)}getPosition(){return this.opts.position?this.opts.position instanceof e.LatLng?this.opts.position:new e.LatLng(this.opts.position):null}getVisible(){if(!this.element)return!1;let e=this.element;return"none"!==e.style.display&&"hidden"!==e.style.visibility&&(""===e.style.opacity||.01<Number(e.style.opacity))}onAdd(){if(this.element){var e=this.getPanes();e&&e.overlayMouseTarget.appendChild(this.element)}}draw(){if(this.element){var e=this.getProjection().fromLatLngToDivPixel(this.getPosition());if(e){this.element.style.position="absolute";let i=this.element.offsetHeight;var t=this.element.offsetWidth;switch(this.opts.anchorPoint){case"TOP_CENTER":t=e.x-t/2,e=e.y;break;case"BOTTOM_CENTER":t=e.x-t/2,e=e.y-i;break;case"LEFT_CENTER":t=e.x,e=e.y-i/2;break;case"RIGHT_CENTER":t=e.x-t,e=e.y-i/2;break;case"TOP_LEFT":t=e.x,e=e.y;break;case"TOP_RIGHT":t=e.x-t,e=e.y;break;case"BOTTOM_LEFT":t=e.x,e=e.y-i;break;case"BOTTOM_RIGHT":t=e.x-t,e=e.y-i;break;default:t=e.x-t/2,e=e.y-i/2}this.element.style.left=t+"px",this.element.style.top=e+"px",this.element.style.transform=`translateX(${this.opts.offsetX||0}px) translateY(${this.opts.offsetY||0}px)`,this.opts.zIndex&&(this.element.style.zIndex=this.opts.zIndex.toString())}}}onRemove(){this.element&&this.element.remove()}setOptions(e){this.opts=e,this.draw()}}}(o.value),o.value[Pe]=n,Be.forEach((e=>{var i;null===(i=r.value)||void 0===i||i.addListener(e,(i=>t(e,i)))})),a.value=!0,n=Object.keys(e).filter((e=>!"apiPromise apiKey version libraries region language center zoom".split(" ").includes(e))).map((t=>oe(e,t))),H([()=>e.center,()=>e.zoom,...n],(([e,t],[i,a])=>{var o,n,s;const d=l(),{center:p,zoom:c}=d,h=u(d,["center","zoom"]);null===(o=r.value)||void 0===o||o.setOptions(h),void 0!==t&&t!==a&&(null===(n=r.value)||void 0===n||n.setZoom(t)),t=!i||e.lng!==i.lng||e.lat!==i.lat,e&&t&&(null===(s=r.value)||void 0===s||s.panTo(e))}))};return A((()=>{if(e.apiPromise&&e.apiPromise instanceof Promise)e.apiPromise.then(p);else{try{const{apiKey:t,region:i,version:a,language:r,libraries:o}=e;Te=new ze({apiKey:t,region:i,version:a,language:r,libraries:o})}catch(t){}Te.load().then(p)}})),G((()=>{var e;n.value=!1,r.value&&(null===(e=o.value)||void 0===e||e.event.clearInstanceListeners(r.value))})),{mapRef:i,ready:a,map:r,api:o,mapTilesLoaded:n}}});function qe(e,t){if(void 0===t&&(t={}),t=t.insertAt,e&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===t&&i.firstChild?i.insertBefore(a,i.firstChild):i.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}qe("\n.mapdiv[data-v-177d06e3] {\n  width: 100%;\n  height: 100%;\n}\n");let Ee=Q();ee("data-v-177d06e3");let Ae={ref:"mapRef",class:"mapdiv"};te();let Ne=Ee((e=>(k(),_("div",null,[S("div",Ae,null,512),w(e.$slots,"default",{ready:e.ready,map:e.map,api:e.api,mapTilesLoaded:e.mapTilesLoaded},void 0,!0)]))));Le.render=Ne,Le.__scopeId="data-v-177d06e3";let Re=(e,t,i,a)=>{const r=E(),o=f(Oe,E()),n=f(_e,E()),u=f(Se,E()),d=g((()=>!!(u.value&&n.value&&(r.value instanceof n.value.Marker||r.value instanceof n.value[Pe]))));return H([o,i],((p,[c,h])=>{var v,m,f;p=JSON.stringify(i.value)!==JSON.stringify(h)||o.value!==c,o.value&&n.value&&p&&(r.value?(r.value.setOptions(i.value),d.value&&(null===(v=u.value)||void 0===v||v.removeMarker(r.value),null===(m=u.value)||void 0===m||m.addMarker(r.value))):(r.value=ne("Marker"===e||e===Pe?new n.value[e](i.value):new n.value[e](l(s({},i.value),{map:o.value}))),d.value?null===(f=u.value)||void 0===f||f.addMarker(r.value):r.value.setMap(o.value),t.forEach((e=>{var t;null===(t=r.value)||void 0===t||t.addListener(e,(t=>a(e,t)))}))))}),{immediate:!0}),G((()=>{var e,t;r.value&&(null===(e=n.value)||void 0===e||e.event.clearInstanceListeners(r.value),d.value?null===(t=u.value)||void 0===t||t.removeMarker(r.value):r.value.setMap(null))})),r},Ze="animation_changed click dblclick rightclick dragstart dragend drag mouseover mousedown mouseout mouseup draggable_changed clickable_changed contextmenu cursor_changed flat_changed rightclick zindex_changed icon_changed position_changed shape_changed title_changed visible_changed".split(" ");var Ke=c({name:"Marker",props:{options:{type:Object,required:!0}},emits:Ze,setup:(e,{emit:t,expose:i,slots:a})=>(e=oe(e,"options"),t=Re("Marker",Ze,e,t),U(Me,t),i({marker:t}),()=>{var e;return null===(e=a.default)||void 0===e?void 0:e.call(a)})});c({name:"Polyline",props:{options:{type:Object,required:!0}},emits:Ie,setup:(e,{emit:t})=>(e=oe(e,"options"),{polyline:Re("Polyline",Ie,e,t)}),render:()=>null}),c({name:"Polygon",props:{options:{type:Object,required:!0}},emits:Ie,setup:(e,{emit:t})=>(e=oe(e,"options"),{polygon:Re("Polygon",Ie,e,t)}),render:()=>null});let He=Ie.concat(["bounds_changed"]);c({name:"Rectangle",props:{options:{type:Object,required:!0}},emits:He,setup:(e,{emit:t})=>(e=oe(e,"options"),{rectangle:Re("Rectangle",He,e,t)}),render:()=>null});let We=Ie.concat(["center_changed","radius_changed"]);c({name:"Circle",props:{options:{type:Object,required:!0}},emits:We,setup:(e,{emit:t})=>(e=oe(e,"options"),{circle:Re("Circle",We,e,t)}),render:()=>null});var De=c({props:{position:{type:String,required:!0},index:{type:Number,default:1}},emits:["content:loaded"],setup(e,{emit:t}){let i=E(null),a=f(Oe,E()),r=f(_e,E()),o=f($e,E(!1)),n=E(!1),s=H([o,r,i],(([i,a,r])=>{a&&i&&r&&(l(e.position),n.value=!0,t("content:loaded"),setTimeout(s,0))}),{immediate:!0}),l=e=>{a.value&&r.value&&i.value&&a.value.controls[r.value.ControlPosition[e]].push(i.value)},u=e=>{if(a.value&&r.value){let t=null;e=r.value.ControlPosition[e],a.value.controls[e].forEach(((e,a)=>{e===i.value&&(t=a)})),null!==t&&a.value.controls[e].removeAt(t)}};return G((()=>u(e.position))),H((()=>e.position),((e,t)=>{u(t),l(e)})),H((()=>e.index),(t=>{t&&i.value&&(i.value.index=e.index)})),{controlRef:i,showContent:n}}});let Fe={ref:"controlRef"};De.render=function(e){return k(),_(re,null,[$("\n    v-show must be used instead of v-if otherwise there\n    would be no rendered content pushed to the map controls\n  "),ie(S("div",Fe,[w(e.$slots,"default")],512),[[ae,e.showContent]])],2112)};let Ue="closeclick content_changed domready position_changed visible zindex_changed".split(" ");var Ge=c({inheritAttrs:!1,props:{options:{type:Object,default:()=>({})}},emits:Ue,setup(e,{slots:t,emit:i}){let a,r=E(),o=E(),n=f(Oe,E()),u=f(_e,E()),d=f(Me,E()),p=g((()=>{var e;return null===(e=t.default)||void 0===e?void 0:e.call(t).some((e=>e.type!==se))}));return A((()=>{H([n,()=>e.options],(([,e],[t,c])=>{t=JSON.stringify(e)!==JSON.stringify(c)||n.value!==t,n.value&&u.value&&t&&(r.value?(r.value.setOptions(l(s({},e),{content:p.value?o.value:e.content})),d.value||r.value.open({map:n.value})):(r.value=r.value=ne(new u.value.InfoWindow(l(s({},e),{content:p.value?o.value:e.content}))),d.value?a=d.value.addListener("click",(()=>{r.value&&r.value.open({map:n.value,anchor:d.value})})):r.value.open({map:n.value}),Ue.forEach((e=>{var t;null===(t=r.value)||void 0===t||t.addListener(e,(t=>i(e,t)))}))))}),{immediate:!0})})),G((()=>{var e;a&&a.remove(),r.value&&(null===(e=u.value)||void 0===e||e.event.clearInstanceListeners(r.value),r.value.close())})),{infoWindow:r,infoWindowRef:o,hasSlotContent:p}}});qe("\n.info-window-wrapper[data-v-5b373d6e] {\n  display: none;\n}\n.mapdiv .info-window-wrapper[data-v-5b373d6e] {\n  display: inline-block;\n}\n");let Ve=Q();ee("data-v-5b373d6e");let Je={key:0,class:"info-window-wrapper"};te();let Xe=Ve((e=>e.hasSlotContent?(k(),_("div",Je,[S("div",I({ref:"infoWindowRef"},e.$attrs),[w(e.$slots,"default",{},void 0,!0)],16)])):$("v-if",!0)));function Ye(e,t,i,a,r,o){if(!(r-a<=i)){var n=a+r>>1;Qe(e,t,n,a,r,o%2),Ye(e,t,i,a,n-1,o+1),Ye(e,t,i,n+1,r,o+1)}}function Qe(e,t,i,a,r,o){for(;r>a;){if(600<r-a){var n=r-a+1,s=i-a+1,l=Math.log(n),u=.5*Math.exp(2*l/3);l=.5*Math.sqrt(l*u*(n-u)/n)*(0>s-n/2?-1:1),Qe(e,t,i,Math.max(a,Math.floor(i-s*u/n+l)),Math.min(r,Math.floor(i+(n-s)*u/n+l)),o)}for(n=t[2*i+o],s=a,u=r,et(e,t,a,i),t[2*r+o]>n&&et(e,t,a,r);s<u;){for(et(e,t,s,u),s++,u--;t[2*s+o]<n;)s++;for(;t[2*u+o]>n;)u--}t[2*a+o]===n?et(e,t,a,u):et(e,t,++u,r),u<=i&&(a=u+1),i<=u&&(r=u-1)}}function et(e,t,i,a){tt(e,i,a),tt(t,2*i,2*a),tt(t,2*i+1,2*a+1)}function tt(e,t,i){let a=e[t];e[t]=e[i],e[i]=a}Ge.render=Xe,Ge.__scopeId="data-v-5b373d6e";let it=e=>e[0],at=e=>e[1];class rt{constructor(e,t=it,i=at,a=64,r=Float64Array){this.nodeSize=a,this.points=e;let o=this.ids=new(65536>e.length?Uint16Array:Uint32Array)(e.length);r=this.coords=new r(2*e.length);for(let n=0;n<e.length;n++)o[n]=n,r[2*n]=t(e[n]),r[2*n+1]=i(e[n]);Ye(o,r,a,0,o.length-1,0)}range(e,t,i,a){{var r=this.ids,o=this.coords,n=this.nodeSize;let l,u,d=[0,r.length-1,0],p=[];for(;d.length;){var s=d.pop();let c=d.pop(),h=d.pop();if(c-h<=n){for(s=h;s<=c;s++)l=o[2*s],u=o[2*s+1],l>=e&&l<=i&&u>=t&&u<=a&&p.push(r[s]);continue}let v=Math.floor((h+c)/2);l=o[2*v],u=o[2*v+1],l>=e&&l<=i&&u>=t&&u<=a&&p.push(r[v]);let m=(s+1)%2;(0===s?e<=l:t<=u)&&(d.push(h),d.push(v-1),d.push(m)),(0===s?i>=l:a>=u)&&(d.push(v+1),d.push(c),d.push(m))}e=p}return e}within(e,t,i){{var a=this.ids,r=this.coords,o=this.nodeSize;let d=[0,a.length-1,0],p=[],c=i*i;for(;d.length;){var n=d.pop();let h=d.pop();var s=d.pop();if(h-s<=o){for(n=s;n<=h;n++){s=r[2*n]-e;var l=r[2*n+1]-t;(s=s*s+l*l)<=c&&p.push(a[n])}continue}let v=r[2*(l=Math.floor((s+h)/2))],m=r[2*l+1];{var u=v-e;let i=m-t;u=u*u+i*i}u<=c&&p.push(a[l]),u=(n+1)%2,(0===n?e-i<=v:t-i<=m)&&(d.push(s),d.push(l-1),d.push(u)),(0===n?e+i>=v:t+i>=m)&&(d.push(l+1),d.push(h),d.push(u))}e=p}return e}}let ot={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},nt=Math.fround||(st=new Float32Array(1),e=>(st[0]=+e,st[0]));var st;class lt{constructor(e){this.options=vt(Object.create(ot),e),this.trees=Array(this.options.maxZoom+1)}load(e){let{log:t,minZoom:i,maxZoom:a,nodeSize:r}=this.options;e.length;this.points=e;let o=[];for(let n=0;n<e.length;n++)e[n].geometry&&o.push(dt(e[n],n));for(this.trees[a+1]=new rt(o,mt,ft,r,Float32Array),e=a;e>=i;e--)+Date.now(),o=this._cluster(o,e),this.trees[e]=new rt(o,mt,ft,r,Float32Array);return this}getClusters(e,t){let i=((e[0]+180)%360+360)%360-180;var a=Math.max(-90,Math.min(90,e[1])),r=180===e[2]?180:((e[2]+180)%360+360)%360-180;let o=Math.max(-90,Math.min(90,e[3]));if(360<=e[2]-e[0])i=-180,r=180;else if(i>r){var n=this.getClusters([i,a,180,o],t);return a=this.getClusters([-180,a,r,o],t),n.concat(a)}for(n of(r=(t=this.trees[this._limitZoom(t)]).range(i/360+.5,ht(o),r/360+.5,ht(a)),a=[],r))r=t.points[n],a.push(r.numPoints?pt(r):this.points[r.index]);return a}getChildren(e){var t=this._getOriginId(e),i=this._getOriginZoom(e);let a=this.trees[i];if(!a)throw Error("No cluster with the specified id.");if(!(t=a.points[t]))throw Error("No cluster with the specified id.");t=a.within(t.x,t.y,this.options.radius/(this.options.extent*Math.pow(2,i-1))),i=[];for(let r of t)(t=a.points[r]).parentId===e&&i.push(t.numPoints?pt(t):this.points[t.index]);if(0===i.length)throw Error("No cluster with the specified id.");return i}getLeaves(e,t,i){let a=[];return this._appendLeaves(a,e,t||10,i||0,0),a}getTile(e,t,i){let a=this.trees[this._limitZoom(e)];e=Math.pow(2,e);let{extent:r,radius:o}=this.options,n=o/r,s=(i-n)/e,l=(i+1+n)/e,u={features:[]};return this._addTileFeatures(a.range((t-n)/e,s,(t+1+n)/e,l),a.points,t,i,e,u),0===t&&this._addTileFeatures(a.range(1-n/e,s,1,l),a.points,e,i,e,u),t===e-1&&this._addTileFeatures(a.range(0,s,n/e,l),a.points,-1,i,e,u),u.features.length?u:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom&&(t++,1===(e=this.getChildren(e)).length);)e=e[0].properties.cluster_id;return t}_appendLeaves(e,t,i,a,r){t=this.getChildren(t);for(let o of t)if((t=o.properties)&&t.cluster?r=r+t.point_count<=a?r+t.point_count:this._appendLeaves(e,t.cluster_id,i,a,r):r<a?r++:e.push(o),e.length===i)break;return r}_addTileFeatures(e,t,i,a,r,o){for(let l of e){let u=(e=t[l]).numPoints;var n=void 0;let d;var s=void 0;let p;u?(n=ct(e),d=e.x,s=e.y):(n=(s=this.points[e.index]).properties,d=s.geometry.coordinates[0]/360+.5,s=ht(s.geometry.coordinates[1])),n={type:1,geometry:[[Math.round(this.options.extent*(d*r-i)),Math.round(this.options.extent*(s*r-a))]],tags:n},u?p=e.id:this.options.generateId?p=e.index:this.points[e.index].id&&(p=this.points[e.index].id),void 0!==p&&(n.id=p),o.features.push(n)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){let i=[],{radius:a,extent:r,reduce:o,minPoints:n}=this.options,s=a/(r*Math.pow(2,t));for(let c=0;c<e.length;c++){var l=e[c];if(l.zoom<=t)continue;l.zoom=t;let a=this.trees[t+1];var u=a.within(l.x,l.y,s),d=l.numPoints||1;let r=d;for(let e of u){var p=a.points[e];p.zoom>t&&(r+=p.numPoints||1)}if(r>d&&r>=n){p=l.x*d;let e=l.y*d;d=o&&1<d?this._map(l,!0):null;let n=(c<<5)+(t+1)+this.points.length;for(let i of u){if((u=a.points[i]).zoom<=t)continue;u.zoom=t;let r=u.numPoints||1;p+=u.x*r,e+=u.y*r,u.parentId=n,o&&(d||(d=this._map(l,!0)),o(d,this._map(u)))}l.parentId=n,i.push(ut(p/r,e/r,n,r,d))}else if(i.push(l),1<r)for(let e of u)(l=a.points[e]).zoom<=t||(l.zoom=t,i.push(l))}return i}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t){if(e.numPoints)return t?vt({},e.properties):e.properties;e=this.points[e.index].properties;let i=this.options.map(e);return t&&i===e?vt({},i):i}}function ut(e,t,i,a,r){return{x:nt(e),y:nt(t),zoom:Infinity,id:i,parentId:-1,numPoints:a,properties:r}}function dt(e,t){let[i,a]=e.geometry.coordinates;return{x:nt(i/360+.5),y:nt(ht(a)),zoom:Infinity,index:t,parentId:-1}}function pt(e){return{type:"Feature",id:e.id,properties:ct(e),geometry:{type:"Point",coordinates:[360*(e.x-.5),360*Math.atan(Math.exp((180-360*e.y)*Math.PI/180))/Math.PI-90]}}}function ct(e){let t=e.numPoints,i=1e4<=t?`${Math.round(t/1e3)}k`:1e3<=t?Math.round(t/100)/10+"k":t;return vt(vt({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:i})}function ht(e){return e=Math.sin(e*Math.PI/180),0>(e=.5-.25*Math.log((1+e)/(1-e))/Math.PI)?0:1<e?1:e}function vt(e,t){for(let i in t)e[i]=t[i];return e}function mt(e){return e.x}function ft(e){return e.y}var gt=function e(t,i){if(t===i)return!0;if(t&&i&&"object"==typeof t&&"object"==typeof i){if(t.constructor!==i.constructor)return!1;var a;if(Array.isArray(t)){var r=t.length;if(r!=i.length)return!1;for(a=r;0!=a--;)if(!e(t[a],i[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===i.source&&t.flags===i.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===i.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===i.toString();var o=Object.keys(t);if((r=o.length)!==Object.keys(i).length)return!1;for(a=r;0!=a--;)if(!Object.prototype.hasOwnProperty.call(i,o[a]))return!1;for(a=r;0!=a--;)if(!e(t[r=o[a]],i[r]))return!1;return!0}return t!=t&&i!=i};class yt{constructor({markers:e,position:t}){this.markers=e,t&&(this._position=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t))}get bounds(){if(0!==this.markers.length||this._position)return this.markers.reduce(((e,t)=>e.extend(t.getPosition())),new google.maps.LatLngBounds(this._position,this._position))}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter((e=>e.getVisible())).length}push(e){this.markers.push(e)}delete(){this.marker&&(this.marker.setMap(null),delete this.marker),this.markers.length=0}}let bt=e=>e.map((e=>new yt({position:e.getPosition(),markers:[e]})));class kt extends class{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return bt(e)}}{constructor(e){var t,{maxZoom:i,radius:a=60}=e,r=["maxZoom","radius"],o={};for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&0>r.indexOf(t)&&(o[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(t=Object.getOwnPropertySymbols(e);n<t.length;n++)0>r.indexOf(t[n])&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(o[t[n]]=e[t[n]])}super({maxZoom:i}),this.superCluster=new lt(Object.assign({maxZoom:this.maxZoom,radius:a},o)),this.state={zoom:null}}calculate(e){let t=!1;if(!gt(e.markers,this.markers)){t=!0,this.markers=[...e.markers];var i=this.markers.map((e=>({type:"Feature",geometry:{type:"Point",coordinates:[e.getPosition().lng(),e.getPosition().lat()]},properties:{marker:e}})));this.superCluster.load(i)}return i={zoom:e.map.getZoom()},t||this.state.zoom>this.maxZoom&&i.zoom>this.maxZoom||(t=t||!gt(this.state,i)),this.state=i,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(this.transformCluster.bind(this))}transformCluster({geometry:{coordinates:[e,t]},properties:i}){return i.cluster?new yt({markers:this.superCluster.getLeaves(i.cluster_id,Infinity).map((e=>e.properties.marker)),position:new google.maps.LatLng({lat:t,lng:e})}):(e=i.marker,new yt({markers:[e],position:e.getPosition()}))}}class xt{constructor(e,t){this.markers={sum:e.length};let i=(e=t.map((e=>e.count))).reduce(((e,t)=>e+t),0);this.clusters={count:t.length,markers:{mean:i/t.length,sum:i,min:Math.min(...e),max:Math.max(...e)}}}}class Ct{render({count:e,position:t},i){return i=window.btoa(`\n  <svg fill="${e>Math.max(10,i.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240">\n    <circle cx="120" cy="120" opacity=".6" r="70" />\n    <circle cx="120" cy="120" opacity=".3" r="90" />\n    <circle cx="120" cy="120" opacity=".2" r="110" />\n  </svg>`),new google.maps.Marker({position:t,icon:{url:`data:image/svg+xml;base64,${i}`,scaledSize:new google.maps.Size(45,45)},label:{text:String(e),color:"rgba(255,255,255,0.9)",fontSize:"12px"},title:`Cluster of ${e} markers`,zIndex:Number(google.maps.Marker.MAX_ZINDEX)+e})}}class wt{constructor(){var e=wt,t=google.maps.OverlayView;for(let i in t.prototype)e.prototype[i]=t.prototype[i]}}var Ot,_t=Ot||(Ot={});_t.CLUSTERING_BEGIN="clusteringbegin",_t.CLUSTERING_END="clusteringend",_t.CLUSTER_CLICK="click";let Mt=(e,t,i)=>{i.fitBounds(t.bounds)};class St extends wt{constructor({map:e,markers:t=[],algorithm:i=new kt({}),renderer:a=new Ct,onClusterClick:r=Mt}){super(),this.markers=[...t],this.clusters=[],this.algorithm=i,this.renderer=a,this.onClusterClick=r,e&&this.setMap(e)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach((e=>{this.addMarker(e,!0)})),t||this.render()}removeMarker(e,t){let i=this.markers.indexOf(e);return-1!==i&&(e.setMap(null),this.markers.splice(i,1),t||this.render(),!0)}removeMarkers(e,t){let i=!1;return e.forEach((e=>{i=this.removeMarker(e,!0)||i})),i&&!t&&this.render(),i}clearMarkers(e){this.markers.length=0,e||this.render()}render(){let e=this.getMap();if(e instanceof google.maps.Map&&this.getProjection()){google.maps.event.trigger(this,Ot.CLUSTERING_BEGIN,this);let{clusters:t,changed:i}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});(i||null==i)&&(this.reset(),this.clusters=t,this.renderClusters()),google.maps.event.trigger(this,Ot.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach((e=>e.setMap(null))),this.clusters.forEach((e=>e.delete())),this.clusters=[]}renderClusters(){let e=new xt(this.markers,this.clusters),t=this.getMap();this.clusters.forEach((i=>{1===i.markers.length?i.marker=i.markers[0]:(i.marker=this.renderer.render(i,e),this.onClusterClick&&i.marker.addListener("click",(e=>{google.maps.event.trigger(this,Ot.CLUSTER_CLICK,i),this.onClusterClick(e,i,t)}))),i.marker.setMap(t)}))}}let Pt=Object.values(Ot);c({name:"MarkerCluster",props:{options:{type:Object,default:()=>({})}},emits:Pt,setup(e,{emit:t,expose:i,slots:a}){let r=E(),o=f(Oe,E()),n=f(_e,E());return U(Se,r),H(o,(()=>{o.value&&(r.value=ne(new St(s({map:o.value},e.options))),Pt.forEach((e=>{var i;null===(i=r.value)||void 0===i||i.addListener(e,(i=>t(e,i)))})))}),{immediate:!0}),G((()=>{var e;r.value&&(null===(e=n.value)||void 0===e||e.event.clearInstanceListeners(r.value),r.value.clearMarkers(),r.value.setMap(null))})),i({markerCluster:r}),()=>{var e;return null===(e=a.default)||void 0===e?void 0:e.call(a)}}});var $t=c({inheritAttrs:!1,props:{options:{type:Object,required:!0}},setup(e,{slots:t,emit:i}){let a=E(),r=E(),o=g((()=>{var e;return null===(e=t.default)||void 0===e?void 0:e.call(t).some((e=>e.type!==se))})),n=g((()=>l(s({},e.options),{element:a.value})));return A((()=>{r=Re(Pe,[],n,i)})),{customMarkerRef:a,customMarker:r,hasSlotContent:o}}});qe("\n.custom-marker-wrapper[data-v-b9d5ec8a] {\n  display: none;\n}\n.mapdiv .custom-marker-wrapper[data-v-b9d5ec8a] {\n  display: inline-block;\n}\n");let It=Q();ee("data-v-b9d5ec8a");let jt={key:0,class:"custom-marker-wrapper"};te();let zt=It((e=>e.hasSlotContent?(k(),_("div",jt,[S("div",I({ref:"customMarkerRef",style:{cursor:e.$attrs.onClick?"pointer":void 0}},e.$attrs),[w(e.$slots,"default",{},void 0,!0)],16)])):$("v-if",!0)));$t.render=zt,$t.__scopeId="data-v-b9d5ec8a";const Tt=c({__name:"GoogleMap",setup(e){const t={lat:40.689247,lng:-74.044502};return(e,i)=>(k(),_(le(Le),{ref:"domRef",class:"w-full h-400px","api-key":le("AIzaSyBNYAld3avvW841AOAnHChp0PAfvZWsUlA"),style:{width:"100%",height:"500px"},center:t,zoom:15},{default:M((()=>[S(le(Ke),{options:{position:t}},null,8,["options"])])),_:1},8,["api-key"]))}}),Bt={class:"h-full"},Lt=c({__name:"index",setup(e){const t=[{id:"gaode",label:"高德地图",component:xe},{id:"tencent",label:"腾讯地图",component:we},{id:"baidu",label:"百度地图",component:Ce},{id:"google",label:"Google地图",component:Tt}];return(e,i)=>{const a=be,r=ke,o=p;return k(),x("div",Bt,[S(o,{class:"h-full shadow-sm rounded-16px"},{default:M((()=>[S(r,{class:"h-full"},{default:M((()=>[(k(),x(re,null,ue(t,(e=>S(a,{key:e.id,title:e.label},{default:M((()=>[(k(),_(de(e.component)))])),_:2},1032,["title"]))),64))])),_:1})])),_:1})])}}});export{Lt as default};
