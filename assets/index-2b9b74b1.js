var e=(e,t,i)=>new Promise(((s,r)=>{var n=e=>{try{a(i.next(e))}catch(t){r(t)}},o=e=>{try{a(i.throw(e))}catch(t){r(t)}},a=e=>e.done?s(e.value):Promise.resolve(e.value).then(n,o);a((i=i.apply(e,t)).next())}));/* empty css              */import{d as t,t as i,a4 as s,r,c as n,K as o,F as a,q as l,o as u,j as c,k as d,e as p,n as m,b as v,f,a8 as z,ao as g,a as S,l as x}from"./runtime-core.esm-bundler-808dc7a8.js";import{_ as h}from"./_plugin-vue_export-helper-1b428a4d.js";import{g as y,_ as w,b as P,i as b,s as $,a as C}from"./plugin-vue_export-helper-806773bb.js";import{R as j}from"./resize-trigger-deaa188b.js";import{u as R}from"./use-merge-state-ed08ed92.js";import{o as _,a as M}from"./dom-68e13361.js";import"./index-e4c8924e.js";import"./resize-observer-aef80884.js";import"./ResizeObserver.es-fe095dfb.js";import"./vue-utils-fe41050b.js";function N(e){const t=P(e)?parseFloat(e):e;let i="";return i=b(e)||String(t)===e?t>1?"px":"%":"px",{size:t,unit:i,isPx:"px"===i}}function T({size:e,defaultSize:t,containerSize:i}){const s=N(null!=e?e:t);return s.isPx?s.size:s.size*i}var k=w(t({name:"Split",components:{ResizeTrigger:j},props:{component:{type:String,default:"div"},direction:{type:String,default:"horizontal"},size:{type:[Number,String],default:void 0},defaultSize:{type:[Number,String],default:.5},min:{type:[Number,String]},max:{type:[Number,String]},disabled:{type:Boolean,default:!1}},emits:{moveStart:e=>!0,moving:e=>!0,moveEnd:e=>!0,"update:size":e=>!0},setup(t,{emit:l}){const{direction:u,size:c,defaultSize:d,min:p,max:m}=i(t),v=s(0),f=s(),z=y("split"),[g,S]=R(d.value,r({value:c})),x=n((()=>N(g.value))),h=n((()=>"horizontal"===u.value)),w=n((()=>[z,{[`${z}-horizontal`]:h.value,[`${z}-vertical`]:!h.value}])),P=n((()=>{const{size:e,unit:t,isPx:i}=x.value;return{flex:`0 0 calc(${i?e:100*e}${t} - ${v.value/2}px)`}})),b={startPageX:0,startPageY:0,startContainerSize:0,startSize:0};function $(){return e(this,null,(function*(){const e=()=>{var e,t;return h.value?null==(e=f.value)?void 0:e.clientWidth:(null==(t=f.value)?void 0:t.clientHeight)||0};return f.value&&!e()||(yield a()),e()}))}function C(e,t){if(!t)return;const i=x.value.isPx?`${e}px`:(s=t,parseFloat(e)/parseFloat(s));var s;g.value!==i&&(S(i),l("update:size",i))}function j(e,t){const i=T({size:e,containerSize:t}),s=T({size:p.value,defaultSize:"0px",containerSize:t}),r=T({size:m.value,defaultSize:`${t}px`,containerSize:t});let n=i;return n=Math.max(n,s),n=Math.min(n,r),n}function k({startContainerSize:e,startSize:t,startPosition:i,endPosition:s}){return j(`${T({size:t,containerSize:e})+(s-i)}px`,e)}function X(e){l("moving",e);C(h.value?k({startContainerSize:b.startContainerSize,startSize:b.startSize,startPosition:b.startPageX,endPosition:e.pageX}):k({startContainerSize:b.startContainerSize,startSize:b.startSize,startPosition:b.startPageY,endPosition:e.pageY}),b.startContainerSize)}function Y(e){M(window,"mousemove",X),M(window,"mouseup",Y),M(window,"contextmenu",Y),document.body.style.cursor="default",l("moveEnd",e)}return o((()=>e(this,null,(function*(){const e=yield $();C(j(g.value,e),e)})))),{prefixCls:z,classNames:w,isHorizontal:h,wrapperRef:f,onMoveStart:function(t){return e(this,null,(function*(){l("moveStart",t),b.startPageX=t.pageX,b.startPageY=t.pageY,b.startContainerSize=yield $(),b.startSize=g.value,_(window,"mousemove",X),_(window,"mouseup",Y),_(window,"contextmenu",Y),document.body.style.cursor=h.value?"col-resize":"row-resize"}))},onTriggerResize:function(e){const{width:t,height:i}=e.contentRect;v.value=h.value?t:i},firstPaneStyles:P}}}),[["render",function(e,t,i,s,r,n){const o=l("ResizeTrigger");return u(),c(g(e.component),{ref:"wrapperRef",class:m(e.classNames)},{default:d((()=>[p("div",{class:m([`${e.prefixCls}-pane`,`${e.prefixCls}-pane-first`]),style:v(e.firstPaneStyles)},[f(e.$slots,"first")],6),e.disabled?z("v-if",!0):(u(),c(o,{key:0,"prefix-cls":`${e.prefixCls}-trigger`,direction:e.isHorizontal?"vertical":"horizontal",onMousedown:e.onMoveStart,onResize:e.onTriggerResize},{default:d((()=>[f(e.$slots,"resize-trigger")])),icon:d((()=>[f(e.$slots,"resize-trigger-icon")])),_:3},8,["prefix-cls","direction","onMousedown","onResize"])),p("div",{class:m([`${e.prefixCls}-pane`,`${e.prefixCls}-pane-second`])},[f(e.$slots,"second")],2)])),_:3},8,["class"])}]]);const X=Object.assign(k,{install:(e,t)=>{$(e,t);const i=C(t);e.component(i+k.name,k)}}),Y=t({name:"SplitDemo",setup:()=>({})}),F={class:"container"},H=p("div",{style:{"background-color":"#f38181",width:"100%",height:"100%"}},"Right",-1),B=p("div",{style:{"background-color":"#fce38a",width:"100%",height:"100%"}},"Top",-1),E=p("div",{style:{"background-color":"#95e1d3",width:"100%",height:"100%"}},"Bottom ",-1);const O=h(Y,[["render",function(e,t,i,s,r,n){const o=X;return u(),S("div",F,[x(o,{style:v({height:"500px",border:"1px solid var(--color-border)"})},{first:d((()=>[H])),second:d((()=>[p("div",null,[x(o,{direction:"vertical",style:{height:"495px"}},{first:d((()=>[B])),second:d((()=>[E])),_:1})])])),_:1},8,["style"])])}]]);export{O as default};
