import{d as e,t,g as r,j as a,k as n,c as l,L as o,o as i,Q as s,_ as u,aj as c,w as p,x as v,y as g,b as f,A as d,S as m,q as h,D as y,K as x,C as b,p as S,r as z,a as C,I,s as $,v as w}from"./index.eabfbd96.js";import{u as F}from"./index.33f3d5aa.js";import{R as j}from"./resize-observer-v2.694b619e.js";import{P as R}from"./index.19e655a0.js";const A=Symbol("ArcoAvatarGroup");var M=Object.defineProperty,N=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,T=(e,t,r)=>t in e?M(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,k=(e,t)=>{for(var r in t||(t={}))E.call(t,r)&&T(e,r,t[r]);if(N)for(var r of N(t))O.call(t,r)&&T(e,r,t[r]);return e};const P=e({name:"Avatar",components:{ResizeObserver:j},props:{shape:{type:String,default:"circle"},size:Number,autoFixFontSize:{type:Boolean,default:!0},triggerType:{type:String,default:"button"},triggerIconStyle:{type:Object}},emits:{click:e=>!0},setup(e,{slots:u,emit:p,attrs:v}){const{shape:g,size:f,autoFixFontSize:d,triggerType:m,triggerIconStyle:h}=t(e),y=r("avatar"),x=a(A,void 0),b=n(),S=n(),z=l((()=>{var e;return null!=(e=null==x?void 0:x.shape)?e:g.value})),C=l((()=>{var e;return null!=(e=null==x?void 0:x.size)?e:f.value})),I=l((()=>{var e;return null!=(e=null==x?void 0:x.autoFixFontSize)?e:d.value})),$=n(!1),w=x?F({itemRef:b,selector:`.${y}`}).computedIndex:n(-1),j=l((()=>{var e;const t=o(C.value)?{width:`${C.value}px`,height:`${C.value}px`,fontSize:C.value/2+"px"}:{};return x&&(t.zIndex=x.zIndexAscend?w.value+1:x.total-w.value,t.marginLeft=0!==w.value?`-${(null!=(e=C.value)?e:40)/4}px`:"0"),t})),R=G({triggerIconStyle:null==h?void 0:h.value,inlineStyle:v.style,triggerType:m.value}),M=()=>{$.value||c((()=>{var e;if(!S.value||!b.value)return;const t=S.value.clientWidth,r=null!=(e=C.value)?e:b.value.offsetWidth,a=r/(t+8);r&&a<1&&(S.value.style.transform=`scale(${a}) translateX(-50%)`)}))};i((()=>{var e;(null==(e=S.value)?void 0:e.firstElementChild)&&["IMG","PICTURE"].includes(S.value.firstElementChild.tagName)&&($.value=!0),I.value&&M()})),s(f,(()=>{I.value&&M()}));const N=l((()=>[y,`${y}-${z.value}`])),E=l((()=>$.value?`${y}-image`:`${y}-text`));return{prefixCls:y,itemRef:b,cls:N,outerStyle:j,wrapperRef:S,wrapperCls:E,computedTriggerIconStyle:R,isImage:$,onClick:e=>{p("click",e)},handleResize:()=>{I.value&&M()}}}}),G=({triggerType:e,inlineStyle:t={},triggerIconStyle:r={}})=>{let a={};return"button"===e&&(!r||r&&!r.color)&&t&&t.backgroundColor&&(a={color:t.backgroundColor}),k(k({},r),a)};var _=u(P,[["render",function(e,t,r,a,n,l){const o=p("resize-observer");return v(),g("div",{ref:"itemRef",style:x(e.outerStyle),class:y([e.cls,{[`${e.prefixCls}-with-trigger-icon`]:Boolean(e.$slots["trigger-icon"])}]),onClick:t[0]||(t[0]=(...t)=>e.onClick&&e.onClick(...t))},[f(o,{onResize:e.handleResize},{default:d((()=>[m("span",{ref:"wrapperRef",class:y(e.wrapperCls)},[h(e.$slots,"default")],2)])),_:3},8,["onResize"]),e.$slots["trigger-icon"]?(v(),g("div",{key:0,class:y(`${e.prefixCls}-trigger-icon-${e.triggerType}`),style:x(e.computedTriggerIconStyle)},[h(e.$slots,"trigger-icon")],6)):b("v-if",!0)],6)}]]);const B=e({name:"AvatarGroup",props:{shape:{type:String,default:"circle"},size:Number,autoFixFontSize:{type:Boolean,default:!0},maxCount:{type:Number,default:0},zIndexAscend:{type:Boolean,default:!1},maxStyle:{type:Object},maxPopoverTriggerProps:{type:Object}},setup(e,{slots:a}){const{shape:l,size:o,autoFixFontSize:i,zIndexAscend:s}=t(e),u=r("avatar-group"),c=n(0);return S(A,z({shape:l,size:o,autoFixFontSize:i,zIndexAscend:s,total:c})),()=>{var t,r;const n=C(null!=(r=null==(t=a.default)?void 0:t.call(a))?r:[]),l=e.maxCount>0?n.slice(0,e.maxCount):n,o=e.maxCount>0?n.slice(e.maxCount):[];return c.value!==l.length&&(c.value=l.length),f("div",{class:u},[l,o.length>0&&f(R,e.maxPopoverTriggerProps,{default:()=>[f(_,{class:`${u}-max-count-avatar`,style:e.maxStyle},{default:()=>[I("+"),o.length]})],content:()=>f("div",null,[o])})])}}}),L=Object.assign(_,{Group:B,install:(e,t)=>{$(e,t);const r=w(t);e.component(r+_.name,_),e.component(r+B.name,B)}});function W(e,t){return void 0===t&&(t=15),+parseFloat(Number(e).toPrecision(t))}function X(e){var t=e.toString().split(/[eE]/),r=(t[0].split(".")[1]||"").length-+(t[1]||0);return r>0?r:0}function q(e){if(-1===e.toString().indexOf("e"))return Number(e.toString().replace(".",""));var t=X(e);return t>0?W(Number(e)*Math.pow(10,t)):Number(e)}function D(e){H&&(e>Number.MAX_SAFE_INTEGER||Number.MIN_SAFE_INTEGER)}function K(e,t){var r=e[0],a=e[1],n=e.slice(2),l=t(r,a);return n.forEach((function(e){l=t(l,e)})),l}function Q(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length>2)return K(e,Q);var r=e[0],a=e[1],n=q(r),l=q(a),o=X(r)+X(a),i=n*l;return D(i),i/Math.pow(10,o)}function U(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length>2)return K(e,U);var r=e[0],a=e[1],n=q(r),l=q(a);return D(n),D(l),Q(n/l,W(Math.pow(10,X(a)-X(r))))}var H=!0;var J={strip:W,plus:function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length>2)return K(t,e);var a=t[0],n=t[1],l=Math.pow(10,Math.max(X(a),X(n)));return(Q(a,l)+Q(n,l))/l},minus:function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length>2)return K(t,e);var a=t[0],n=t[1],l=Math.pow(10,Math.max(X(a),X(n)));return(Q(a,l)-Q(n,l))/l},times:Q,divide:U,round:function(e,t){var r=Math.pow(10,t),a=U(Math.round(Math.abs(Q(e,r))),r);return e<0&&0!==a&&(a=Q(a,-1)),a},digitLength:X,float2Fixed:q,enableBoundaryChecking:function(e){void 0===e&&(e=!0),H=e}};export{L as A,J as i};
