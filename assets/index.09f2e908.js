var e=(e,t,i)=>new Promise(((s,n)=>{var a=e=>{try{o(i.next(e))}catch(t){n(t)}},r=e=>{try{o(i.throw(e))}catch(t){n(t)}},o=e=>e.done?s(e.value):Promise.resolve(e.value).then(a,r);o((i=i.apply(e,t)).next())}));/* empty css              */import{_ as t}from"./plugin-vue_export-helper.21dcd24c.js";import{d as i,t as s,k as n,g as a,r,c as o,o as l,_ as u,M as c,L as d,aj as p,aI as v,w as z,x as f,z as m,A as g,S,q as x,D as h,K as y,C as w,aa as b,aJ as P,s as $,v as C,y as R,b as j}from"./index.eabfbd96.js";import{R as M,u as _}from"./resize-trigger.0b4cd764.js";import"./resize-observer.83e56250.js";import"./ResizeObserver.es.bd9ff68d.js";function N(e){const t=c(e)?parseFloat(e):e;let i="";return i=d(e)||String(t)===e?t>1?"px":"%":"px",{size:t,unit:i,isPx:"px"===i}}function k({size:e,defaultSize:t,containerSize:i}){const s=N(null!=e?e:t);return s.isPx?s.size:s.size*i}var T=u(i({name:"Split",components:{ResizeTrigger:M},props:{component:{type:String,default:"div"},direction:{type:String,default:"horizontal"},size:{type:[Number,String],default:void 0},defaultSize:{type:[Number,String],default:.5},min:{type:[Number,String]},max:{type:[Number,String]},disabled:{type:Boolean,default:!1}},emits:{moveStart:e=>!0,moving:e=>!0,moveEnd:e=>!0,"update:size":e=>!0},setup(t,{emit:i}){const{direction:u,size:c,defaultSize:d,min:z,max:f}=s(t),m=n(0),g=n(),S=a("split"),[x,h]=_(d.value,r({value:c})),y=o((()=>N(x.value))),w=o((()=>"horizontal"===u.value)),b=o((()=>[S,{[`${S}-horizontal`]:w.value,[`${S}-vertical`]:!w.value}])),$=o((()=>{const{size:e,unit:t,isPx:i}=y.value;return{flex:`0 0 calc(${i?e:100*e}${t} - ${m.value/2}px)`}})),C={startPageX:0,startPageY:0,startContainerSize:0,startSize:0};function R(){return e(this,null,(function*(){const e=()=>{var e,t;return w.value?null==(e=g.value)?void 0:e.clientWidth:(null==(t=g.value)?void 0:t.clientHeight)||0};return g.value&&!e()||(yield p()),e()}))}function j(e,t){if(!t)return;const s=y.value.isPx?`${e}px`:(n=t,parseFloat(e)/parseFloat(n));var n;x.value!==s&&(h(s),i("update:size",s))}function M(e,t){const i=k({size:e,containerSize:t}),s=k({size:z.value,defaultSize:"0px",containerSize:t}),n=k({size:f.value,defaultSize:`${t}px`,containerSize:t});let a=i;return a=Math.max(a,s),a=Math.min(a,n),a}function T({startContainerSize:e,startSize:t,startPosition:i,endPosition:s}){return M(`${k({size:t,containerSize:e})+(s-i)}px`,e)}function X(e){i("moving",e);j(w.value?T({startContainerSize:C.startContainerSize,startSize:C.startSize,startPosition:C.startPageX,endPosition:e.pageX}):T({startContainerSize:C.startContainerSize,startSize:C.startSize,startPosition:C.startPageY,endPosition:e.pageY}),C.startContainerSize)}function Y(e){P(window,"mousemove",X),P(window,"mouseup",Y),P(window,"contextmenu",Y),document.body.style.cursor="default",i("moveEnd",e)}return l((()=>e(this,null,(function*(){const e=yield R();j(M(x.value,e),e)})))),{prefixCls:S,classNames:b,isHorizontal:w,wrapperRef:g,onMoveStart:function(t){return e(this,null,(function*(){i("moveStart",t),C.startPageX=t.pageX,C.startPageY=t.pageY,C.startContainerSize=yield R(),C.startSize=x.value,v(window,"mousemove",X),v(window,"mouseup",Y),v(window,"contextmenu",Y),document.body.style.cursor=w.value?"col-resize":"row-resize"}))},onTriggerResize:function(e){const{width:t,height:i}=e.contentRect;m.value=w.value?t:i},firstPaneStyles:$}}}),[["render",function(e,t,i,s,n,a){const r=z("ResizeTrigger");return f(),m(b(e.component),{ref:"wrapperRef",class:h(e.classNames)},{default:g((()=>[S("div",{class:h([`${e.prefixCls}-pane`,`${e.prefixCls}-pane-first`]),style:y(e.firstPaneStyles)},[x(e.$slots,"first")],6),e.disabled?w("v-if",!0):(f(),m(r,{key:0,"prefix-cls":`${e.prefixCls}-trigger`,direction:e.isHorizontal?"vertical":"horizontal",onMousedown:e.onMoveStart,onResize:e.onTriggerResize},{default:g((()=>[x(e.$slots,"resize-trigger")])),icon:g((()=>[x(e.$slots,"resize-trigger-icon")])),_:3},8,["prefix-cls","direction","onMousedown","onResize"])),S("div",{class:h([`${e.prefixCls}-pane`,`${e.prefixCls}-pane-second`])},[x(e.$slots,"second")],2)])),_:3},8,["class"])}]]);const X=Object.assign(T,{install:(e,t)=>{$(e,t);const i=C(t);e.component(i+T.name,T)}});const Y=i({name:"SplitDemo",setup:()=>({})}),F={class:"container"},H=S("div",{style:{"background-color":"#f38181",width:"100%",height:"100%"}},"Right",-1),B=S("div",{style:{"background-color":"#fce38a",width:"100%",height:"100%"}},"Top",-1),D=S("div",{style:{"background-color":"#95e1d3",width:"100%",height:"100%"}},"Bottom ",-1);var E=t(Y,[["render",function(e,t,i,s,n,a){const r=X;return f(),R("div",F,[j(r,{style:y({height:"500px",border:"1px solid var(--color-border)"})},{first:g((()=>[H])),second:g((()=>[S("div",null,[j(r,{direction:"vertical",style:{height:"495px"}},{first:g((()=>[B])),second:g((()=>[D])),_:1})])])),_:1},8,["style"])])}]]);export{E as default};
