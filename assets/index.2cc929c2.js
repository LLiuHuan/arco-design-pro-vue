var e=(e,t,i)=>new Promise(((s,n)=>{var a=e=>{try{o(i.next(e))}catch(t){n(t)}},r=e=>{try{o(i.throw(e))}catch(t){n(t)}},o=e=>e.done?s(e.value):Promise.resolve(e.value).then(a,r);o((i=i.apply(e,t)).next())}));/* empty css              */import{d as t,t as i,k as s,g as n,r as a,c as r,o,_ as l,a5 as u,aB as c,L as d,K as p,aC as v,Y as f,w as z,x as m,y as g,C as S,q as x,H as h,J as y,M as w,a1 as P,s as b,v as $,A as C,b as R}from"./index.6fd1736c.js";import{_ as j}from"./_plugin-vue_export-helper.cdc0426e.js";import{R as _}from"./resize-trigger.b073e9a4.js";import{u as M}from"./use-merge-state.5dc22036.js";import"./resize-observer.d99ec281.js";import"./ResizeObserver.es.bd9ff68d.js";function N(e){const t=d(e)?parseFloat(e):e;let i="";return i=p(e)||String(t)===e?t>1?"px":"%":"px",{size:t,unit:i,isPx:"px"===i}}function Y({size:e,defaultSize:t,containerSize:i}){const s=N(null!=e?e:t);return s.isPx?s.size:s.size*i}var k=l(t({name:"Split",components:{ResizeTrigger:_},props:{component:{type:String,default:"div"},direction:{type:String,default:"horizontal"},size:{type:[Number,String],default:void 0},defaultSize:{type:[Number,String],default:.5},min:{type:[Number,String]},max:{type:[Number,String]},disabled:{type:Boolean,default:!1}},emits:{moveStart:e=>!0,moving:e=>!0,moveEnd:e=>!0,"update:size":e=>!0},setup(t,{emit:l}){const{direction:d,size:p,defaultSize:f,min:z,max:m}=i(t),g=s(0),S=s(),x=n("split"),[h,y]=M(f.value,a({value:p})),w=r((()=>N(h.value))),P=r((()=>"horizontal"===d.value)),b=r((()=>[x,{[`${x}-horizontal`]:P.value,[`${x}-vertical`]:!P.value}])),$=r((()=>{const{size:e,unit:t,isPx:i}=w.value;return{flex:`0 0 calc(${i?e:100*e}${t} - ${g.value/2}px)`}})),C={startPageX:0,startPageY:0,startContainerSize:0,startSize:0};function R(){return e(this,null,(function*(){const e=()=>{var e,t;return P.value?null==(e=S.value)?void 0:e.clientWidth:(null==(t=S.value)?void 0:t.clientHeight)||0};return S.value&&!e()||(yield u()),e()}))}function j(e,t){if(!t)return;const i=w.value.isPx?`${e}px`:(s=t,parseFloat(e)/parseFloat(s));var s;h.value!==i&&(y(i),l("update:size",i))}function _(e,t){const i=Y({size:e,containerSize:t}),s=Y({size:z.value,defaultSize:"0px",containerSize:t}),n=Y({size:m.value,defaultSize:`${t}px`,containerSize:t});let a=i;return a=Math.max(a,s),a=Math.min(a,n),a}function k({startContainerSize:e,startSize:t,startPosition:i,endPosition:s}){return _(`${Y({size:t,containerSize:e})+(s-i)}px`,e)}function T(e){l("moving",e);j(P.value?k({startContainerSize:C.startContainerSize,startSize:C.startSize,startPosition:C.startPageX,endPosition:e.pageX}):k({startContainerSize:C.startContainerSize,startSize:C.startSize,startPosition:C.startPageY,endPosition:e.pageY}),C.startContainerSize)}function X(e){v(window,"mousemove",T),v(window,"mouseup",X),v(window,"contextmenu",X),document.body.style.cursor="default",l("moveEnd",e)}return o((()=>e(this,null,(function*(){const e=yield R();j(_(h.value,e),e)})))),{prefixCls:x,classNames:b,isHorizontal:P,wrapperRef:S,onMoveStart:function(t){return e(this,null,(function*(){l("moveStart",t),C.startPageX=t.pageX,C.startPageY=t.pageY,C.startContainerSize=yield R(),C.startSize=h.value,c(window,"mousemove",T),c(window,"mouseup",X),c(window,"contextmenu",X),document.body.style.cursor=P.value?"col-resize":"row-resize"}))},onTriggerResize:function(e){const{width:t,height:i}=e.contentRect;g.value=P.value?t:i},firstPaneStyles:$}}}),[["render",function(e,t,i,s,n,a){const r=f("ResizeTrigger");return z(),m(P(e.component),{ref:"wrapperRef",class:h(e.classNames)},{default:g((()=>[S("div",{class:h([`${e.prefixCls}-pane`,`${e.prefixCls}-pane-first`]),style:y(e.firstPaneStyles)},[x(e.$slots,"first")],6),e.disabled?w("v-if",!0):(z(),m(r,{key:0,"prefix-cls":`${e.prefixCls}-trigger`,direction:e.isHorizontal?"vertical":"horizontal",onMousedown:e.onMoveStart,onResize:e.onTriggerResize},{default:g((()=>[x(e.$slots,"resize-trigger")])),icon:g((()=>[x(e.$slots,"resize-trigger-icon")])),_:3},8,["prefix-cls","direction","onMousedown","onResize"])),S("div",{class:h([`${e.prefixCls}-pane`,`${e.prefixCls}-pane-second`])},[x(e.$slots,"second")],2)])),_:3},8,["class"])}]]);const T=Object.assign(k,{install:(e,t)=>{b(e,t);const i=$(t);e.component(i+k.name,k)}}),X=t({name:"SplitDemo",setup:()=>({})}),H={class:"container"},B=S("div",{style:{"background-color":"#f38181",width:"100%",height:"100%"}},"Right",-1),F=S("div",{style:{"background-color":"#fce38a",width:"100%",height:"100%"}},"Top",-1),E=S("div",{style:{"background-color":"#95e1d3",width:"100%",height:"100%"}},"Bottom ",-1);const O=j(X,[["render",function(e,t,i,s,n,a){const r=T;return z(),C("div",H,[R(r,{style:y({height:"500px",border:"1px solid var(--color-border)"})},{first:g((()=>[B])),second:g((()=>[S("div",null,[R(r,{direction:"vertical",style:{height:"495px"}},{first:g((()=>[F])),second:g((()=>[E])),_:1})])])),_:1},8,["style"])])}]]);export{O as default};
