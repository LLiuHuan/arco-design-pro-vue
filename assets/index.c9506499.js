import{d as e,t as a,g as s,c as t,r as l,at as o,_ as n,p as r,w as u,A as p,q as c,H as f,J as i,k as d,j as m,I as v,s as y,v as b}from"./index.2ff312ec.js";import{u as x,G as w,a as j,R as I,C as O}from"./index.b76b95ff.js";import{u as $}from"./use-index.2965e879.js";var g=n(e({name:"Grid",props:{cols:{type:[Number,Object],default:24},rowGap:{type:[Number,Object],default:0},colGap:{type:[Number,Object],default:0},collapsed:{type:Boolean,default:!1},collapsedRows:{type:Number,default:1}},setup(e){const{cols:n,rowGap:u,colGap:p,collapsedRows:c,collapsed:f}=a(e),i=x(n,24),d=x(p,0),m=x(u,0),v=s("grid"),y=t((()=>[v])),b=t((()=>[{gap:`${m.value}px ${d.value}px`,"grid-template-columns":`repeat(${i.value}, minmax(0px, 1fr))`}])),I=l(new Map),O=t((()=>{const e=[];for(const[a,s]of I.entries())e[a]=s;return e})),$=l({overflow:!1,displayIndexList:[],cols:i.value,colGap:d.value});return o((()=>{$.cols=i.value,$.colGap=d.value})),o((()=>{const e=function({cols:e,collapsed:a,collapsedRows:s,itemDataList:t}){let l=!1,o=[];function n(a){return Math.ceil(a/e)>s}if(a){let e=0;for(let a=0;a<t.length;a++)t[a].suffix&&(e+=t[a].span,o.push(a));if(!n(e)){let a=0;for(;a<t.length;){const s=t[a];if(!s.suffix){if(e+=s.span,n(e))break;o.push(a)}a++}}l=t.some(((e,a)=>!e.suffix&&!o.includes(a)))}else o=t.map(((e,a)=>a));return{overflow:l,displayIndexList:o}}({cols:i.value,collapsed:f.value,collapsedRows:c.value,itemDataList:O.value});$.overflow=e.overflow,$.displayIndexList=e.displayIndexList})),r(w,$),r(j,{collectItemData(e,a){I.set(e,a)},removeItemData(e){I.delete(e)}}),{classNames:y,style:b}}}),[["render",function(e,a,s,t,l,o){return u(),p("div",{class:f(e.classNames),style:i(e.style)},[c(e.$slots,"default")],6)}]]),G=Object.defineProperty,N=Object.defineProperties,R=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,P=(e,a,s)=>a in e?G(e,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[a]=s;var M=n(e({name:"GridItem",props:{span:{type:[Number,Object],default:1},offset:{type:[Number,Object],default:0},suffix:{type:Boolean,default:!1}},setup(e){const l=s("grid-item"),n=d(),{computedIndex:r}=$({itemRef:n,selector:`.${l}`}),u=m(w,{overflow:!1,displayIndexList:[],cols:24,colGap:0}),p=m(j),c=t((()=>{var e;return null==(e=null==u?void 0:u.displayIndexList)?void 0:e.includes(r.value)})),{span:f,offset:i}=a(e),y=x(f,1),b=x(i,0),I=t((()=>{return function(e,a){var s,t;const l=null!=(s=a.span)?s:1,o=null!=(t=a.offset)?t:0,n=Math.min(o,e);return{span:Math.min(n>0?l+o:l,e),offset:n,suffix:"suffix"in a&&!1!==a.suffix}}(u.cols,(a=((e,a)=>{for(var s in a||(a={}))L.call(a,s)&&P(e,s,a[s]);if(h)for(var s of h(a))D.call(a,s)&&P(e,s,a[s]);return e})({},e),s={span:y.value,offset:b.value},N(a,R(s))));var a,s})),O=t((()=>[l])),g=t((()=>{const{offset:e,span:a}=I.value,{colGap:s}=u;if(e>0){return{"margin-left":`calc((${`(100% - ${s*(a-1)}px) / ${a}`} * ${e}) + ${s*e}px)`}}return{}})),G=t((()=>{const{suffix:e,span:a}=I.value,{cols:s}=u;return e?""+(s-a+1):`span ${a}`})),M=t((()=>{const{span:e}=I.value;return[{"grid-column":`${G.value} / span ${e}`},g.value,c.value&&0!==e?{}:{display:"none"}]}));return o((()=>{-1!==r.value&&(null==p||p.collectItemData(r.value,I.value))})),v((()=>{-1!==r.value&&(null==p||p.removeItemData(r.value))})),{classNames:O,style:M,domRef:n,overflow:t((()=>u.overflow))}}}),[["render",function(e,a,s,t,l,o){return u(),p("div",{ref:"domRef",class:f(e.classNames),style:i(e.style)},[c(e.$slots,"default",{overflow:e.overflow})],6)}]]);const k=Object.assign(g,{Row:I,Col:O,Item:M,install:(e,a)=>{y(e,a);const s=b(a);e.component(s+I.name,I),e.component(s+O.name,O),e.component(s+g.name,g),e.component(s+M.name,M)}});export{k as G,M as a};
